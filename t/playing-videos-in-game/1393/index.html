<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Playing Videos In-Game
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Playing Videos In-Game
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       Hi I’m just getting started with my first game using Urho and haven’t been able to figure out how to play videos (.mp4 ideally) in a window within the game. Can anybody help?
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Welcome to the forums!
       <br/>
       Video file playback is not supported by the engine directly. You need to integrate your video player library of choice, create a Texture2D in dynamic mode, and keep updating the texture with SetData() function as your video library decodes frames.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       thanks, I’ll try and get that going. Any suggestions for which video player library?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       Also, is there a way of making the texture2D a (or child of) UI element ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Simply assign the texture to a BorderImage UI element to show it. ( BorderImage::SetTexture() ).
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/55a28ac655e792ddc5641665e82bbc3cd322414b90de6ccf16537644a3e53276.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      jmiller
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="miz">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/e3aef3f9fbe829867097bd9e2afc3200cc423876f51641926eb4889c7f3ebcdd.png" width="20"/>
        miz:
       </div>
       <blockquote>
        <p>
         thanks, I’ll try and get that going. Any suggestions for which video player library?
        </p>
       </blockquote>
      </aside>
      <p>
       <a href="http://www.ffmpeg.org/">
        ffmpeg.org/
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       much appreciated!
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/999065d0609f591a82c8a3f4f534d814fd1605f4d7ed98ff3bc0d9aed9d27d87.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      codingmonkey
     </div>
     <div class="post_content">
      <p>
       Hi miz!
       <br/>
       Try to translate this tut from RU to ENG with helps G…
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <p>
       <a href="http://3d-orange.com.ua/video-in-your-games-p1-ogg_theora/">
        3d-orange.com.ua/video-in-your-g … gg_theora/
       </a>
      </p>
      <p>
       Or you may just dig in this source code : (TheoraVideo.zip)
       <a href="http://3d-orange.com.ua/wp-content/plugins/download-monitor/download.php?id=27">
        3d-orange.com.ua/wp-content/plug … .php?id=27
       </a>
      </p>
      <p>
       I think this is easy way to play videos on textures, and seems that it also may in easy manner ported to Urho3d
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       I went with ffmpeg in the end as it seemed best supported and cross-platform etc. I did have trouble installing it but managed to get it going in the end.
      </p>
      <p>
       Does anyone know of any good tutorials for ffmpeg decoding? Having trouble getting going with it, the documentation hasn’t helped much…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e484e760615ae1055c98a33975f0abfde7a99cbe48f85a088138e5ac5daabc8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Mike
     </div>
     <div class="post_content">
      <p>
       There’s a very simple tutorial demonstrating how to get the RGB data, with source code, available at
       <a data-bbcode="true" href="http://dranger.com/ffmpeg/tutorial01.html">
        http://dranger.com/ffmpeg/tutorial01.html
       </a>
       .
       <br/>
       Beware that almost everything in FFmpeg is licensed under LGPL or GPL.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       <a href="http://www.webmproject.org/code/" rel="nofollow noopener">
        webmproject.org/code/
       </a>
       is BSD license.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6f717edbbb6794a81024a65a0b329f4d47f598f032ada0b9ad3e06d3c5e8ecc7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      boberfly
     </div>
     <div class="post_content">
      <p>
       Another codec to consider is:
       <br/>
       <a href="http://www.openh264.org/" rel="nofollow noopener">
        openh264.org/
       </a>
      </p>
      <p>
       The patent covering is all on cisco, and if you target mobile what I recommend is to target the platform’s API so you get the hardware decoder, and only use openh264 on the desktop or as a fallback. WebM is cool too, just you might not find hardware that decodes it.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0afd0002f7f053f9608d7c41ebd4d8b88a023db3ec5ef0bbe723627da0b24ec9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      miz
     </div>
     <div class="post_content">
      <p>
       Hi, I still haven’t got things quite working. Can anyone help?
      </p>
      <p>
       I’m setting up my Texture2D as follows:
       <br/>
       <code>
        BorderImage* video = new BorderImage(context_);
	video-&gt;SetSize(640, 480);
	vidtexture = new Texture2D(context_);
	video-&gt;SetTexture(vidtexture);
	video-&gt;SetAlignment(HA_CENTER, VA_CENTER);
	window_-&gt;AddChild(video);
	uiRoot_-&gt;SetDefaultStyle(style);
	window_ = new Window(context_);
	uiRoot_-&gt;AddChild(window_);
	window_-&gt;SetSize(648, 512);
	window_-&gt;SetName("Window");
	vidtexture-&gt;SetSize(640, 480, SDL_PIXELFORMAT_RGB24, TEXTURE_DYNAMIC);
       </code>
      </p>
      <p>
       I’ve then got very nearly identical code to
       <a data-bbcode="true" href="http://dranger.com/ffmpeg/tutorial01.c" rel="nofollow noopener">
        http://dranger.com/ffmpeg/tutorial01.c
       </a>
       except instead of saving 5 frames of data to a file I’m trying this:
      </p>
      <pre><code class="lang-auto"></code></pre>
      <p>
       Is this the right sort of thing? Any obvious problems?
      </p>
      <p>
       Currently my  BorderImage/Texture is just black…
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>