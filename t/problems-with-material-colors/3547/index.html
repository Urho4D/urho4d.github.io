<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Problems with material colors
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Problems with material colors
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f81b6d8a9d198971c2cab1d49e47984d4c02fe45b728e035f752bf5629baa18.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      nergal
     </div>
     <div class="post_content">
      <p>
       I want to have blocks of basic colors specified with RGB(A). But I can’t get it to work. The colors seems to be distorted.
       <br/>
       I use the material technique:
      </p>
      <blockquote>
       <p>
        Techniques/NoTextureVCol.xml
       </p>
      </blockquote>
      <p>
       And I set the material for each block as follows:
      </p>
      <blockquote>
       <p>
        SharedPtr m = model-&gt;GetMaterial()-&gt;Clone();
        <br/>
        // color contains the specific block color.
        <br/>
        m-&gt;SetShaderParameter(“MatDiffColor”,Vector4(color.x_/255.0f, color.y_/255.0f, color.z_/255.0f, 1.0f));
        <br/>
        model-&gt;SetMaterial(m);
       </p>
      </blockquote>
      <p>
       The result becomes like this (the physic-blocks):
       <br/>
       <a href="https://media.giphy.com/media/l1J9ByXXGAVQc8eLC/giphy.gif" rel="nofollow noopener" target="_blank">
        <video controls="" height="322" preload="none" width="480">
         <source src="../../../images/9ee4861717c437417adb90cf8994d00a7ae4350252da8dffe07c618ec1927759.mp4" type="video/mp4"/>
         Your browser does not support the video tag.
        </video>
       </a>
       <br/>
       I want the blocks to have the same colors as the original blocks in the world. But as seen the blocks are multicolored and not one color.
      </p>
      <p>
       What am I missing here?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       Use you standat Box.mdl or own model? May be in model no vertex colors? Try “NoTexture” technique instead
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f81b6d8a9d198971c2cab1d49e47984d4c02fe45b728e035f752bf5629baa18.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      nergal
     </div>
     <div class="post_content">
      <p>
       I’m using the standard asset “Models/Box.mdl”. It worked with using the NoTexture tech. Many thanks!
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>