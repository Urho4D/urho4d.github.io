<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   [SOLVED] Intelligent animation blending
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    [SOLVED] Intelligent animation blending
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       Hi, all!
      </p>
      <p>
       I need help with my animations.
      </p>
      <p>
       I have “idle” animation, “walk” animation and “breathe” animation.
      </p>
      <p>
       I need to blend “breathe” into first and second. All animations are exported with translations and rotations
       <br/>
       by exporter.
       <br/>
       As I see, it is not possible to blend cleanly, as it produce weird effect (as it uses full bone poses, i.e.
       <br/>
       if body is rotated towards front by walk it will be straightened by breathe.
       <br/>
       I had high hopes for Urho layered animation for this as I don’t want to produce thousands of animations per character in Blender.
       <br/>
       I can recombine them in Blender but it looks so 1990s. What is intended workflow?
      </p>
      <p>
       Also how can I remove unneeded channels for blended-in animations like “breathe”? I just need rotations there.
       <br/>
       I don’t want to remove all channels by hand…
      </p>
      <ul>
       <li>
        Also, is it possible to use additive animation, i.e. translations are added to animations, rotations multiplied?
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/b8f5dad81b656072038634f7e88edcb9a54ec3432d6d48dbaba8878d623899bd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Dave82
     </div>
     <div class="post_content">
      <aside class="quote">
       <blockquote>
        <p>
         Also, is it possible to use additive animation, i.e. translations are added to animations, rotations multiplied?
        </p>
       </blockquote>
      </aside>
      <p>
       By default there’s no support for additive animations , but you can write your own in no time.I wrote my own for bullet hit “twitching” and weapon aim offset.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       Blending a “breathe” animation with the other two would be tough, indeed, due to the use of spine joints.  Urho3D does has layered animation where you can layer a secondary anim to the main.  An example would be layering Mutant_Wave_LY.anim on w/e primary anim.  If I were to attempt to layer a “breathe” anim, I’d key only the upper two spines and make the movement more prominent.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       well, blending mode of ABM_ADDITIVE actually works great, so I don’t need to do complicated things.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/211b5c3ff075cc3199cdcef1a49c4725d1c0a6c3a35dbbc47195606b06d840fe.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      namic
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="Dave82">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/2d732a74ad6d9d5982c0e344fad30bccc9c0302ddbf1c23455bdc0315b23286b.png" width="20"/>
        Dave82:
       </div>
       <blockquote>
        <p>
         [quote] Also, is it possible to use additive animation, i.e. translations are added to animations, rotations multiplied?
        </p>
       </blockquote>
      </aside>
      <p>
       By default there’s no support for additive animations , but you can write your own in no time.I wrote my own for bullet hit “twitching” and weapon aim offset.[/quote]
      </p>
      <p>
       Would you be kind enough to share some code, or even better, the research material you have used to write your implementation?
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>