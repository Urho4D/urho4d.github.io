<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   SoLoud audio library
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    SoLoud audio library
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c01b8b8b05b6aab492df6eeace88e2282147607ff86cdc28638e9227819a3fcc.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Bananaft
     </div>
     <div class="post_content">
      <p>
       I hacked together Urho3d and SoLoud audio library:
       <a href="http://soloud-audio.com" rel="nofollow noopener">
        http://soloud-audio.com
       </a>
       <br/>
       I decided to try it after investigating on this issue:
       <a href="https://discourse.urho3d.io/t/audio-artifacts-on-low-frequency-sounds/3946">
        Audio artifacts on low frequency sounds
       </a>
      </p>
      <p>
       Here is a comparison video, enable CC:
       <br/>
      </p>
      <div class="lazyYT" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque" data-width="480" data-youtube-id="OSPhJRYwBOM" data-youtube-title="Urho3d SoLoud audio">
      </div>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       Great! This is definitely welcome! Always find the sound to be hacky. Do you plan to contribute it?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c01b8b8b05b6aab492df6eeace88e2282147607ff86cdc28638e9227819a3fcc.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Bananaft
     </div>
     <div class="post_content">
      <p>
       Well, um… yeah, about that…
      </p>
      <ol>
       <li>
        I’m just learning C++, and I code like no one is watching. I can share my code but it is terrible. And I broke a lot of stuff.
       </li>
       <li>
        It seems like a big feature, will require setting up build system (I broke it in my repo). Checking if it will work on all platforms Urho supports.
       </li>
       <li>
        It is better to change interface of audio system to better support SoLoud features (like filters, mixing busses), and that’s a decision for someone smart from core team.
       </li>
      </ol>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       I see. Don’t worry about integrating it, it’s complicated anyway. These days I’m trying to fit turbobadger into Urho, just for the sake of improving…
       <br/>
       Anyway, if you don’t mind, you could share some spare code, or simply describe your workflow…
       <br/>
       I’d like to try to make this thing work with Android. Android it’s notoriously problematic on sounds, and that would be a real test…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c01b8b8b05b6aab492df6eeace88e2282147607ff86cdc28638e9227819a3fcc.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Bananaft
     </div>
     <div class="post_content">
      <p>
       Ok, but you’ve been warned:
       <br/>
       <aside class="onebox whitelistedgeneric">
        <header class="source">
         <img class="site-icon" height="32" src="../../../images/2ee43237d196100210f1786e7b73b57cd140f6013c072c70dbdffd9e9bc695f8.ico" width="32"/>
         <a href="https://github.com/Bananaft/urh_sld" rel="nofollow noopener" target="_blank">
          GitHub
         </a>
        </header>
        <article class="onebox-body">
         <img class="thumbnail onebox-avatar" height="267" src="../../../images/c906f5779cb6a3c111729efdd8bccf0adc81d03439805a6e0e4f8f8537bc262b.jpg" width="267"/>
         <h3>
          <a href="https://github.com/Bananaft/urh_sld" rel="nofollow noopener" target="_blank">
           Bananaft/urh_sld
          </a>
         </h3>
         <p>
          nothing to see here. Contribute to Bananaft/urh_sld development by creating an account on GitHub.
         </p>
        </article>
        <div class="onebox-metadata">
        </div>
        <div style="clear: both">
        </div>
       </aside>
      </p>
      <p>
       I basically took Urho’s audio classes, removed their guts and made them use SoLoud instead. There should be a name for this? Glue code? (edit: wrapper) There are also some dead code, especially in audio.cpp.
      </p>
      <p>
       I also wrote my own attenuation model.
      </p>
      <p>
       So I used Urho 1.7 source. I added the library, threw out some exotic file formats that cause build errors, defined backend:
       <span class="hashtag">
        #define
       </span>
       WITH_SDL2_STATIC
      </p>
      <p>
       One little problem I ran into is that SoLoud uses
       <span class="hashtag">
        #define
       </span>
       M_PI for Pi value, and Urho uses static const float M_PI, and they conflict.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d126304f5103b2d7cee2c6e244e6a162b45a28fcb40bfc5dd544e0bbf8b220ea.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Sinoid
     </div>
     <div class="post_content">
      <blockquote>
       <p>
        One little problem I ran into is that SoLoud uses
        <span class="hashtag">
         #define
        </span>
        M_PI for Pi value, and Urho uses static const float M_PI, and they conflict.
       </p>
      </blockquote>
      <p>
       That’s because you put SoLoud headers into your headers instead of just your sources and forward declaring the SoLoud types. Headers only in the source files after all Urho3D headers, and
       <span class="hashtag">
        #undef
       </span>
       M_PI if necessary.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>