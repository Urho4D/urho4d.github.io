<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Rigidbodies does not collide
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Rigidbodies does not collide
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f81b6d8a9d198971c2cab1d49e47984d4c02fe45b728e035f752bf5629baa18.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      nergal
     </div>
     <div class="post_content">
      <p>
       I have multiple rigid bodies with mass = 0 (they are static chunks in the world). Then I create chunks with mass that should collide with the world. But as you can see on the gif below, they don’t collide. They just fall by. But when I create small boxes with 1x1x1 in size, the boxes collide with the “world” bodies that has no mass.
      </p>
      <p>
       I can’t see what I’m missing here, I really need some help.
      </p>
      <a href="https://media.giphy.com/media/3o7aDc8ueKqCSbL7c4/giphy.gif" rel="nofollow noopener" target="_blank">
       <video controls="" height="370" preload="none" width="480">
        <source src="../../../images/4749369ec5a98d272b940f7994f1fd5952808042a3cfbbe5b9ee8b7e101b8d22.mp4" type="video/mp4"/>
        Your browser does not support the video tag.
       </video>
      </a>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       Only convex shapes are allowed to be dynamic. Triangle meshes are not.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f81b6d8a9d198971c2cab1d49e47984d4c02fe45b728e035f752bf5629baa18.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      nergal
     </div>
     <div class="post_content">
      <p>
       Hm, but they seem to collide with each other?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f81b6d8a9d198971c2cab1d49e47984d4c02fe45b728e035f752bf5629baa18.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      nergal
     </div>
     <div class="post_content">
      <p>
       ok! Now I see, creating a box around for the shape works good. Are there any plans to add Triangle mesh shapes for dynamic?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       There are convex hulls which work.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       Note: In order to use convex hulls you have to decompose your mesh into convex subshapes.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-post="4" data-topic="3562" data-username="nergal">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/83386172567b275061636ccd279aa2136cbe6281e21faf662ac396998e899c9d.png" width="20"/>
        nergal:
       </div>
       <blockquote>
        <p>
         Are there any plans to add Triangle mesh shapes for dynamic?
        </p>
       </blockquote>
      </aside>
      <p>
       I’ve just added it.
       <br/>
       It is available here
       <a class="inline-onebox" href="https://github.com/eugeneko/Urho3D" rel="noopener nofollow ugc">
        GitHub - eugeneko/Urho3D: Cross-platform 2D and 3D game engine
       </a>
       , will push it as soon as CI passes.
       <br/>
       Use
       <code>
        GImpactMesh
       </code>
       shape type to allow triangle mesh be dynamic.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       Isn’t Bullet momentum calculation will be off in case of non-convex mesh? I remember something like that,
       <br/>
       did not try it myself though.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       I don’t know. If you mean inertia, I think it should be calculated for each dynamic object.
       <br/>
       However, push me if you remember something more concrete.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       Most physics engines use “Separating Axis Theorem” for fast detection of collisions, but it requires convex shapes. Triangle to triangle collision uses something like brute force and is unsuitable for practical use in games
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       I mean shape which is used to calculate inertia should be convex for inertia to be correct. Otherwise you need to override
       <br/>
       using btCompoundShapes btCompoundShape::calculatePrincipalAxisTransform. I mean inertia tensor of course.
      </p>
      <p>
       This hit me very badly with vehicles behavior, so I had to learn all this things. This happens with convex hulls too,
       <br/>
       but definitely will affect non-convex shapes.
       <br/>
       BTW it is a way for Bullet to override “momentum shape” (inertia tensor) if anybody wishes for proper vehicle dynamics
       <br/>
       like me.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>