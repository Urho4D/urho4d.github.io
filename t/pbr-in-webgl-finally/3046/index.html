<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   PBR in WebGL (finally!)
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    PBR in WebGL (finally!)
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bc40148f161b8ef0f1ac53243cc7c85a7aabd7378e2bc7063dc29b570fba4030.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      godan
     </div>
     <div class="post_content">
      <p>
       Yep, just got it working (
       <a href="https://meshgeometry.github.io/Demos/PBR/IogramPlayer.html" rel="nofollow noopener">
        test it out here
       </a>
       ):
      </p>
      <p>
       <img height="377" src="../../../images/decd83760e5c2aad23a7213d2a587615c6ff985c34ef496f5594048157608376.jpg" width="690"/>
      </p>
      <p>
       Controls:
      </p>
      <ul>
       <li>
        RMB to orbit
       </li>
       <li>
        CTRL + RMB to zoom
       </li>
       <li>
        SHIFT + RMB to pan
       </li>
      </ul>
      <p>
       Also, this probably won’t run on mobile. Would be great to hear back about any issues on various browsers/platforms, though.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5d46ae636e9e1695d23c3cfa4111ef6c78f876a386883243a8e2928668728d83.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      KonstantTom
     </div>
     <div class="post_content">
      <p>
       Windows 7, FIrefox 53.0 (64-bit).
       <br/>
       All works perfect! But FPS is very low.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bc40148f161b8ef0f1ac53243cc7c85a7aabd7378e2bc7063dc29b570fba4030.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      godan
     </div>
     <div class="post_content">
      <p>
       <span class="mention">
        @KonstantTom
       </span>
       what are your system specs?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5d46ae636e9e1695d23c3cfa4111ef6c78f876a386883243a8e2928668728d83.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      KonstantTom
     </div>
     <div class="post_content">
      <p>
       <span class="mention">
        @godan
       </span>
       I found the problem: it’s because Intel HD Graphics is default video card on my PC. After I force Firefox to use Nvidia GeForce, FPS become normal.
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e484e760615ae1055c98a33975f0abfde7a99cbe48f85a088138e5ac5daabc8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Mike
     </div>
     <div class="post_content">
      <p>
       Works great
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
       <br/>
       Controls are RMB instead of LMB.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       Works good on my mac! Great job!
       <br/>
       No way on ipad browser: it shows the scene, but doesn’t move.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bc40148f161b8ef0f1ac53243cc7c85a7aabd7378e2bc7063dc29b570fba4030.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      godan
     </div>
     <div class="post_content">
      <p>
       Well, I don’t think I’ve coded a touch version of the orbit cam, so it might actually be working fine! I will get on that
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <p>
       Can you move the slider at all?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       <span class="mention">
        @godan
       </span>
       Do you intend to merge these changes back into master. If not would you be willing to share your changes so PBR can be accessed on all platforms.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a3f0560dd5a627876cb05e881084edf47d9a2c9c387e576f67ed33fcf4cfa926.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      monkeyface
     </div>
     <div class="post_content">
      <p>
       Very cool! Now all we need is realtime reflections.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bc40148f161b8ef0f1ac53243cc7c85a7aabd7378e2bc7063dc29b570fba4030.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      godan
     </div>
     <div class="post_content">
      <p>
       <a href="https://meshgeometry.github.io/Demos/FancyPBR/IogramPlayer.html" rel="nofollow noopener">
        Like this?
       </a>
      </p>
      <p>
       <img height="378" src="../../../images/cb394f3e2d89cb22fc76d25a84b0a13920aee06303890ee2dce2660e5674708e.png" width="690"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       I’d assume the reflection there are done by updating the reflection probe. If I get time id like to look into Screen Space Reflections but i have been very busy at the moment
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a3f0560dd5a627876cb05e881084edf47d9a2c9c387e576f67ed33fcf4cfa926.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      monkeyface
     </div>
     <div class="post_content">
      <p>
       That looks cool
       <span class="mention">
        @godan
       </span>
       !
       <br/>
       Would you be able to get that into the Urho core or does it rely on your framework too much?
      </p>
      <p>
       I would really like to use your cool shader stuff in a game but tbh I can’t really tell how it can be used outside the Iogram editor.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bc40148f161b8ef0f1ac53243cc7c85a7aabd7378e2bc7063dc29b570fba4030.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      godan
     </div>
     <div class="post_content">
      <blockquote>
       <p>
        <span class="mention">
         @godan
        </span>
        Do you intend to merge these changes back into master. If not would you be willing to share your changes so PBR can be accessed on all platforms.
       </p>
      </blockquote>
      <p>
       Yes, I will definitely push the PBR changes back to the main repo. The changes are actually minimal and entirely in the shaders. The trick was finding them! Debugging webgl is such a pain
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <p>
       As for the reflection probes, I’m still experimenting with them (also would like to hear more about your screen space reflection idea), but yes, I would be fine with pushing that back to Urho as well.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       I was able to move the slider just once
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       Nice progress!
       <br/>
       Apart from an unresponsive script warning while loading it works fine here in Firefox 52.0.2 on 64-bit Linux Mint.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/b00c457a18cebaed5bfc2d08f4f1fc3562ae6dcc83b81fd849273232eccce930.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      lexx
     </div>
     <div class="post_content">
      <p>
       Works great (up-to-date chrome,  w7 x64,  amd 7870). All controls works.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <aside class="quote" data-post="14" data-topic="3046">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/c7b912d7034160509467ceb127008af0ba8c216f7aa6d4002a1317daf5841e2e.png" width="20"/>
        godan:
       </div>
       <blockquote>
        <p>
         I’m still experimenting with them (also would like to hear more about your screen space reflection idea)
        </p>
       </blockquote>
      </aside>
      <p>
       Screen Space Reflections is a way to do real time reflections doing reflection traces as a screen space effect. There are many ways of doing it but the best i found was probably frostbites approach
       <a href="http://www.frostbite.com/2015/08/stochastic-screen-space-reflections/">
        found here
       </a>
       .
      </p>
      <p>
       Pros:
      </p>
      <ul>
       <li>
        good performance compared to other solutions(planar, realtime cubemaps)
       </li>
       <li>
        high quality results
       </li>
       <li>
        intergrates well with PBR (e.g per pixel roughness)
       </li>
      </ul>
      <p>
       Cons:
      </p>
      <ul>
       <li>
        only reflects what is vissible
       </li>
       <li>
        sometimes color diffrances between SSR and Cubemaps causes distracting reflections
       </li>
      </ul>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       Isn’t this similar to how light probes work? Looking forward to your release.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>