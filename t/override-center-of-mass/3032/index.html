<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Override center of mass
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Override center of mass
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       Well, I try to make my cars properly roll over. I use trimesh collision and default center of mass
       <br/>
       is at bottom (as it is node position for spawning). This prevents car from rolling over, even if it tries accidentally,
       <br/>
       it always gets back to wheels. If I move node up (i.e. mesh and collision shape down) nothing changes,
       <br/>
       it looks like it uses trimesh center as center of mass. Any ideas on how can I move center of mass?
       <br/>
       And no, I don’t want to use box as collision - I need collision details to be handled properly.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/62a71395d4c17ae6d13ba5dd2ab14fd64e5b7af1784f42b10524e596f6c9a9f6.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      SirNate0
     </div>
     <div class="post_content">
      <p>
       I think for the center of mass you may be required to move the vertices of the model itself down before export. If that’s what you meant by moving the node up, then I have no idea, but here is a discussion about a similar problem from the Bullet forum you might glean something from:
       <a href="http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&amp;t=2209" rel="nofollow noopener">
        http://www.bulletphysics.org/Bullet/phpBB3/viewtopic.php?f=9&amp;t=2209
       </a>
      </p>
      <p>
       I will say that I would recommend using convex hulls or compound shapes of convex hulls if you could get away with that – they are faster computationally and with trimeshes I have experienced some problems with objects pushing through the triangle mesh and getting stuck inside it (I think this can be avoided with well made meshes, but I like the other benefits of the convex hull myself).
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       Yep, I use convex hull.
       <br/>
       Not that moving geometry doesn’t help at all, but it looks like body rotates around RigidBody center, but
       <br/>
       the mass is concentrated at ConvexHull center and effect i.e. I still can’t get vehicle to roll over and not go back to wheels
       <img alt=":frowning:" class="emoji" src="../../../images/f52368fabff51bf20b9b2a7726cfecb3ca01ecdec8d99f872cca862812b131a7.png" title=":frowning:"/>
       But if it rolls it rolls around new RigidBody center. If I put center too far it gets into yoyo effect.
       <br/>
       It all looks very strange.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>