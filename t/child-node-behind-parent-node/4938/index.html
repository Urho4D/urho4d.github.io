<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Child node behind parent node
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Child node behind parent node
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9cd4b06b1e366d16b8bf42be152460e9b95e6a9eeec4a82cb7c4c7f77c6be32a.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Jbonavita
     </div>
     <div class="post_content">
      <p>
       Give the following code, the child node, spinBtn is displaying behind bottomSpriteNode. Any idea why?
      </p>
      <pre><code>Node bottomSpriteNode = scene.CreateChild("StaticSprite2D");
float halfWidth = Graphics.Width * 0.5f * PixelSize;
float halfHeight = Graphics.Height * 0.5f * PixelSize;

// Get sprite
Sprite2D sprite = ResourceCache.GetSprite2D("Urho2D/BottomLine.png");
if (sprite == null)
	return;

StaticSprite2D staticSprite = bottomSpriteNode.CreateComponent&lt;StaticSprite2D&gt;();
staticSprite.Sprite = sprite;
var size = (sprite.Rectangle.Bottom - sprite.Rectangle.Top)  * PixelSize;
bottomSpriteNode.Position = (new Vector3(0, -(camera.OrthoSize / 2) + (size / 2), 0));

Node spinNode = scene.CreateChild("StaticSprite2D");            
Sprite2D spinSprite = ResourceCache.GetSprite2D("Urho2D/SpinBtn.png");
if (spinSprite == null)
	return;

staticSprite = spinNode.CreateComponent&lt;StaticSprite2D&gt;();
staticSprite.Sprite = spinSprite;
bottomSpriteNode.AddChild(spinNode);            
size = (spinSprite.Rectangle.Right - spinSprite.Rectangle.Left) * PixelSize;</code></pre>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9cd4b06b1e366d16b8bf42be152460e9b95e6a9eeec4a82cb7c4c7f77c6be32a.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Jbonavita
     </div>
     <div class="post_content">
      <p>
       Not sure what the problem was but I opened the SpinBtn.png in Photoshop, saved it as SpinBtn2.png and now it works.
       <br/>
       Weird…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9cd4b06b1e366d16b8bf42be152460e9b95e6a9eeec4a82cb7c4c7f77c6be32a.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Jbonavita
     </div>
     <div class="post_content">
      <p>
       So now I’m running into the same issue with a different image. Am I doing something wrong by the way I’m adding the nodes? I would think that they would be displayed in the order they’re added.
      </p>
      <p>
       I really don’t like when things work sometimes but not others.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>