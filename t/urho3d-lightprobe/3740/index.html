<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Urho3D LightProbe
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Urho3D LightProbe
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       repo:
       <a class="inline-onebox-loading" href="https://github.com/Lumak/Urho3D-LightProbe">
        https://github.com/Lumak/Urho3D-LightProbe
       </a>
      </p>
      <p>
       Below is a pic of lightprobe implementation - there’s no light in the shot, glow on the char is based on SH coeff.
       <br/>
       <img alt="" src="../../../images/c4696f59320092aac28a37dca25a91d38f72584cc4ebd8c0b302de77995c78b1.png"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/92028b5b94650c5db30122b34a44946b7fc1cfc731bd7f99650f6e64feafdcc1.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      artgolf1000
     </div>
     <div class="post_content">
      <p>
       Global illumination? Looks so cool!
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       <span class="mention">
        @Lumak
       </span>
       good job as usual.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/dbe11551b4e31243c01a23f11ae133866c35e3c2874f50f95c7566ffe79b11aa.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      stark7
     </div>
     <div class="post_content">
      <p>
       Oh man… there are only so many repos I can fork
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
       . One of these days I need to spend time converting everything to C# - or does anyone have a cloning machine for Lumak? A C# coding clone?
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       Repo updated: optimization and some clean up.
      </p>
      <p>
       <span class="mention">
        @artgolf1000
       </span>
       Currently, just a light probe which illuminates the char. But I guess it could be possible to use it for GI, I don’t have knowledge on how, though.
      </p>
      <p>
       <span class="mention">
        @johnnycable
       </span>
       thanks and enjoy.
      </p>
      <p>
       <span class="mention">
        @stark7
       </span>
       unfortunately I’m not touching C# atm.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       Repo updated: code and shaders. I think I nitpicked enough.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/92028b5b94650c5db30122b34a44946b7fc1cfc731bd7f99650f6e64feafdcc1.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      artgolf1000
     </div>
     <div class="post_content">
      <p>
       I have noticed that the Godot engine use GIProbe technology to achieve realtime GI on desktop, you may get some brief from their blog.
      </p>
      <p>
       Though my screen space global illumination shader runs smoothly on mobile devices, but the result is not good in all cases.
      </p>
      <p>
       I wonder if the GIProbe is similar to Lumak’s LightProbe?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       I briefly reviewed the code and, no, they’re not the same. My work is based on “
       <em>
        An Efficient Representation for Irradiance Environment Maps
       </em>
       ,” ref:
       <a href="http://graphics.stanford.edu/papers/envmap/">
        http://graphics.stanford.edu/papers/envmap/
       </a>
       , and they’re using some kind of magic.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d6f16bb77f117ebf72214ce8d214a620b17dea32a311cd6a88ec4b0caafaea44.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GodMan
     </div>
     <div class="post_content">
      <p>
       Looks great I was needing to look into this in the future as I use lightmaps for my projects and I’m currently converting my directional lightmap shader I made 3 years ago for Irrlicht to Urho3d.
      </p>
      <p>
       This will help me out a lot for integrating my dynamic objects with the scene thanks.
      </p>
      <p>
       Do I just download this from github and place in my urho3d folder and build it the same?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d6f16bb77f117ebf72214ce8d214a620b17dea32a311cd6a88ec4b0caafaea44.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GodMan
     </div>
     <div class="post_content">
      <p>
       I see lightprobe uses a cubemap. What would be a good solution if my character already has a cubemap being used in the enviorment slot for there materials?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       You might try the other tex from the list:
       <a href="https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/Material.cpp#L53">
        https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/Material.cpp#L53
       </a>
      </p>
      <p>
       Or encode the data in diffuse tex, if your uv map has space.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98e16f5aa18a8278da16931cc513caf6df5e18cef318b34790a9618613ef083e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      TheComet
     </div>
     <div class="post_content">
      <p>
       Neat! I’ll have to try this out. Does it support dynamic lights (that’s the whole point of GI right?)
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       I didn’t write GI, although, there was a paper written about using precomputed lightprobes to achieve GI -
       <a href="http://research.nvidia.com/publication/real-time-global-illumination-using-precomputed-light-field-probes">
        http://research.nvidia.com/publication/real-time-global-illumination-using-precomputed-light-field-probes
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       Answer to this question,
       <a href="https://computergraphics.stackexchange.com/questions/233/how-is-a-light-probe-different-than-an-environmental-cube-map">
        https://computergraphics.stackexchange.com/questions/233/how-is-a-light-probe-different-than-an-environmental-cube-map
       </a>
       provides a good description of types of lightprobes used. Personally, my use case for this was to remove lights in a mobile platform that couldn’t support many light sources - replacement of light.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       Huh. I missed this thread for some reason.
       <br/>
       As I’m experimenting with Urho renderer, I thought about integrating SH into Urho…
      </p>
      <p>
       I’ve just looked into your implementation. Unsure if SH texture is viable. In perfect world there shall be per-object uniforms, shan’t they?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       I think that would be a personal preference. You can choose to write 3-3x3 matrix of SH for each lightprobe or encode the entire stream of it onto a texture. If given a choice I’d write the SH data onto a diffuse texture that’s already used by the model for each level/scene to avoid loading extra texture.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       What about light probes blending and SH from dynamic lights?
       <br/>
       It’s hard to do in shader but easy on CPU.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       If you’re using dynamic lightprobes then you probably don’t need to store any precomputed.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98e16f5aa18a8278da16931cc513caf6df5e18cef318b34790a9618613ef083e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      TheComet
     </div>
     <div class="post_content">
      <p>
       Your github link is 404’ing
       <br/>
       <a class="onebox" href="https://github.com/Lumak/Urho3D-LightProbe" rel="nofollow noopener" target="_blank">
        https://github.com/Lumak/Urho3D-LightProbe
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d810aa1dd979a5c8db3b6d0294588b69a8215f93e681cdc858fbdc963aedce1f.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      smellymumbler
     </div>
     <div class="post_content">
      <p>
       Lumak apparently removed all his repos.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/616fa05f1013e3614a4d081038142fb528f27ac0018bf7a24d481c1658c1e90e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      elix22
     </div>
     <div class="post_content">
      <p>
       Another link
       <br/>
       <aside class="onebox whitelistedgeneric">
        <header class="source">
         <img class="site-icon" height="32" src="../../../images/2ee43237d196100210f1786e7b73b57cd140f6013c072c70dbdffd9e9bc695f8.ico" width="32"/>
         <a href="https://github.com/elix22/Urho3D-LightProbe" rel="nofollow noopener" target="_blank">
          GitHub
         </a>
        </header>
        <article class="onebox-body">
         <img class="thumbnail onebox-avatar" height="420" src="../../../images/8d3f6c76cc45cb151750b89de03928ab1e496c31b0b97ae743c7d40547f72aed.png" width="420"/>
         <h3>
          <a href="https://github.com/elix22/Urho3D-LightProbe" rel="nofollow noopener" target="_blank">
           elix22/Urho3D-LightProbe
          </a>
         </h3>
         <p>
          SH coefficients generated from cubemap texture to achieve irradiance used as light probe. - elix22/Urho3D-LightProbe
         </p>
        </article>
        <div class="onebox-metadata">
        </div>
        <div style="clear: both">
        </div>
       </aside>
      </p>
      <p>
       I am not sure if it’s updated but you can have something to start with.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ac13286af345bef5a8e8da90a88e9fc0e9d6f349d8aa367436e7ffdeeddaeb9e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      weitjong
     </div>
     <div class="post_content">
      <p>
       It’s a knowledge lost for the community. I wonder why.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/38ba090e68e80d996997d1577a6db4973e3333bddb338b81b65f9e835ac64a44.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rku
     </div>
     <div class="post_content">
      <p>
       <span class="mention">
        @Lumak
       </span>
       is there any reason why you deleted your urho3d samples? Maybe you would be willing to share them back to community?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       I will not recreate any of my repos but will collaborate with elix22 to make sure everything he has is up to date.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/38ba090e68e80d996997d1577a6db4973e3333bddb338b81b65f9e835ac64a44.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rku
     </div>
     <div class="post_content">
      <p>
       If you still have the code but do not want to deal with it you can always zip it up and drop here.
      </p>
      <p>
       Thank you for all that work and not letting it die, all your samples are superb
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>