<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   PBR problems
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    PBR problems
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       The black noise thing happens when When I have a light attached to the camera’s node.
       <br/>
       Lights are cut in half and seems to have a red tint.
      </p>
      <p>
       with Forward only the PBR model is affected.
       <br/>
       With PBRDeferred it happens on everything.
      </p>
      <p>
       In the editor it shows up fine, I’m not sure what’s the difference (editor is forward?).
      </p>
      <p>
       Images (only the rifle model is PBR):
       <br/>
       PBRDeferred, camera light:
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/4EzDTd8.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/b54b87e10133c0cc51612983904cde5d4cd3d7fcba4c0ff75e2ae8ddd201364b.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       (The clean part at the far away  ramp is out of the camera light’s range)
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/5HEDcZo.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/650b21156a5b443023eec842f0aaf22b73b35334697e298b5b36d75dfd2686ce.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       PBRDeferred:
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/FFIxJix.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/df054fefb2c4672520d639fd70ee83a7d4cead0e65dbd58731e47168db25cebc.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/KcoMhmD.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/d822489e64174f09cc63c19b956034c48ccba8de7f89aea8bdc712415ab20775.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       Forward:
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/9ycl0JX.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/a4d3278a40acf22e55cf4d15a41bdcdea7f985d14275c0043a7950a0e3007466.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/PDUI8Tg.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/161cf5f3c84cd26c3a02857b215c2d9186f5289f05079b9a26721c07c9202544.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/tlbG813.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/a4115e764f062bd62afc73cb9b2b4fb250c98db410ea706333dc2069f8d0dbc5.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       Note that while forward handles lights correctly (except camera light), it isn’t an option for projects that use many lights.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       Thanks for the report, I have pushed a fix. Let me know if it works for you.
      </p>
      <p>
       Just FYI, deferred GL3 has an issue atm that is causing the specular spot from lights not to render (at least on my machine?), you might want to test with GL2 if you aren’t already.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       Tested it. The black noise from light in camera’s node is gone.
       <br/>
       Red tint and half lights are the same.
      </p>
      <p>
       Tested OGL2 too, it doesn’t have red tint, but lights are still cut in half. Also there’s this black strip (a shine thing?), in OGL3 it appears in the right color but still stretched like that:
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/XSlUay0.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/53a86da07aefe810876fa7332ccf1db305b84a19f5bc70712665ba7c4db6a285.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/8kNJctx.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/55a3029e1c5b38dc59478880e9e9e87b0e89d1d070235315eeb8ee2f0e8583d6.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/cVag2lK.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/1ea09a2d7910235603b28b7482694244cd0ffb54a7001d5522890e6822d25621.jpg" width="625"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           720×576
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       That seams a little odd as nothing within the lighting was changed only materials. Can you test opening the BRDF shader and change line 48 (
       <a data-bbcode="true" href="https://github.com/urho3d/Urho3D/blob/master/bin/CoreData/Shaders/GLSL/BRDF.glsl#L48">
        https://github.com/urho3d/Urho3D/blob/master/bin/CoreData/Shaders/GLSL/BRDF.glsl#L48
       </a>
       ) to be Lambert instead of Burley.
      </p>
      <pre><code class="lang-auto"></code></pre>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       Tried it and it doesn’t seem to fix the problems.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       try change it here
       <a data-bbcode="true" href="https://github.com/urho3d/Urho3D/blob/master/bin/CoreData/Shaders/GLSL/PBRLitSolid.glsl#L189">
        https://github.com/urho3d/Urho3D/blob/master/bin/CoreData/Shaders/GLSL/PBRLitSolid.glsl#L189
       </a>
       looks like the diffuse method was not used in forward rendering
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       Didn’t seem to help either.
      </p>
      <p>
       The the red tint is reproducible with Urho’s samples when using PBRDeferred, by adding:
      </p>
      <pre><code class="lang-auto">engineParameters_["RenderPath"] = "RenderPaths/PBRDeferred.xml";</code></pre>
      <p>
       to Sample::Setup() in Sample.inl
      </p>
      <p>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/fIn7OnZ.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/40de944a5cc25ba3f0bd67adc8a47df95bbf30fe0ec216dd51bb28d04b65cf4d.jpg" width="645"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1040×806
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/CQcx8fA.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/e6dd55d1822f5818bca13972e011c4702d580d12d823b675221686c16eb34fd9.jpg" width="645"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1040×806
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/xLaaPXG.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/c22e68d32a8cd6a605deffbe2eb2ee9fbffeb8e51323c75ef5bb127b4e41d5e3.jpg" width="645"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1040×806
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/hch9jFl.jpg" rel="nofollow noopener" title="">
         <img alt="" height="500" src="../../../images/af362f552a869efa6c828e822c97393cfe0252ebfc5076651086ca7bdd531b66.jpg" width="645"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1040×806
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       The “half lights” problem doesn’t seem to happen with the Urho samples. I am constructing the level models manually from a custom format, so it might be related.
       <br/>
       EDIT:
       <br/>
       half lights also happen with regular models.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       by the way Skybox has no miplevels, u need use Skybox2 for PBR
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       hmm, a also have problem with deferred (OpenGL)
      </p>
      <p>
       <a data-bbcode="true" href="http://savepic.ru/9418526.htm">
        <img alt="" height="" src="../../../images/8b316d9c130f6357abdb197b3d65e7046078f861b44f07e89b5e155575c6bb2b.png" width=""/>
       </a>
       <br/>
       <a data-bbcode="true" href="http://savepic.ru/9398046.htm">
        <img alt="" height="" src="../../../images/8b316d9c130f6357abdb197b3d65e7046078f861b44f07e89b5e155575c6bb2b.png" width=""/>
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       What are you using for your zone texture? Could it be introducing the red tint ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="hd_">
       <div class="title">
        <div class="quote-controls">
        </div>
        hd_:
       </div>
       <blockquote>
        <p>
         What are you using for your zone texture? Could it be introducing the red tint ?
        </p>
       </blockquote>
      </aside>
      <p>
       I don’t use anything, and neither do the Urho samples
      </p>
      <p>
       Another weird thing with my models, shotgun gets a yellow barrel and minigun becomes purple:
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/HKdis1c.jpg" rel="nofollow noopener" title="">
         <img alt="" height="388" src="../../../images/561ded2eff1699ed142344239dba5ab27542f315fc0443be0c19a43078cfc920.jpg" width="690"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1280×720
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://i.imgur.com/7mR8xuo.jpg" rel="nofollow noopener" title="">
         <img alt="" height="388" src="../../../images/dbf5e2e145257e8a42a4c78cee6057692a727eada40d3fdda32586c7214300cd.jpg" width="690"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           1280×720
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       Oh I see, you are trying to use PBRDeferred on materials that don’t use PBR techniques?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       Im surprised non-PBR materials even display in PBR as from initial development they displayed invisible.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        hd_:
       </div>
       <blockquote>
        <p>
         Oh I see, you are trying to use PBRDeferred on materials that don’t use PBR techniques?
        </p>
       </blockquote>
      </aside>
      <p>
       Yes.
       <br/>
       Everything has to be converted to PBR? That’s a big constraint for me.
       <br/>
       I only have 3 PBR models, the rest are regular diffuse/normal/specular.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/2f7de3bf772e9fa884f9013ea64c3ac4142baa3efa8c274f19892d379dc40915.png" width="20"/>
        Enhex:
       </div>
       <blockquote>
        <p>
         [quote=“hd_”]Oh I see, you are trying to use PBRDeferred on materials that don’t use PBR techniques?
        </p>
       </blockquote>
      </aside>
      <p>
       Yes.
       <br/>
       Everything has to be converted to PBR? That’s a big constraint for me.
       <br/>
       I only have 3 PBR models, the rest are regular diffuse/normal/specular.[/quote]
       <br/>
       We  didnt do a full conversion as requested by core developers. Instead we made PBR alongside the legacy renderer. it includes separate techniques. they only thing they have in common is they both work on the default forward render path.
       <br/>
       materials that are Diff/Normal/Spec need to be converted into a PBR format where the texture for the spec map contains Roughness in the red color channel and Metallic in the green
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       Yeah the new deferred shaders use the gbuffers quite a bit differently to the old ones, so that’s probably a big part of the issue.
      </p>
      <p>
       If you are lucky you can get away with getting a basic result by switching to the PBR shaders using your specmap (if it’s a greyscale image?), by playing with the roughness and metallic values (eg, setting roughness to -1). Ideally you would author materials with PBR in mind though.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       you may be able to get away with using the forward render path and both legacy and PBR materials may display correctly
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       The issue with deferred + GL3 that I mentioned should be resolved in master now.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6c0534b2d654d093a86c1854af37526996deb871a657ce37a4fd1d6c19bc1ddd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hicup_82017
     </div>
     <div class="post_content">
      <p>
       Hello,
       <br/>
       A bit of off topic. I could not find any other relevant thread.
      </p>
      <p>
       I could not get the PBR demo example to work on my Android. I could get it to work in my Linux PC.
       <br/>
       After some home work on the forums, I could find the following issue is still open,
       <br/>
       <a class="onebox" href="https://github.com/urho3d/Urho3D/issues/1545" rel="nofollow noopener" target="_blank">
        https://github.com/urho3d/Urho3D/issues/1545
       </a>
      </p>
      <p>
       Is this issue is still relevant? Or am I the only one, who could not get this to work.
       <br/>
       <strong>
        Additional information:
       </strong>
      </p>
      <ol>
       <li>
        My Mobile is Android 4.4.2  HTC one M8.
       </li>
       <li>
        I could get every other example to work on mobile.
       </li>
       <li>
        Example not working =
        <br/>
        1. I could see only a grey plane being displayed after nearly 8 seconds of launching PBR example.
        <br/>
        2. I could see some text like Metallic, Low roughness being displayed but no materials as such.
       </li>
      </ol>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       The example starts (after a very long loading, has a lot of data) on my galaxy note 4.
       <br/>
       Artifacts: no background, fails on full metallic, looks like plastic on steroids…
      </p>
      <p>
       <img alt="Screenshot_2017-09-05-15-40-37" height="393" src="../../../images/399f50d939b47db99e51253ad839c42eb9a90ded8ac87c3d7d566e9d5a34f52e.jpg" width="690"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       It looks like IBL filtering fails on mobile platforms, i recently got a new android phone so hopefully ill be able to test on there
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6c0534b2d654d093a86c1854af37526996deb871a657ce37a4fd1d6c19bc1ddd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hicup_82017
     </div>
     <div class="post_content">
      <p>
       here is mine, after 8seconds, waited for 1min, even then same observation…
       <br/>
       Urho3d version 1.7 release code.
       <br/>
       HTC one M8 with Android 4.4
       <br/>
       <img alt="Screenshot_2017-09-05-21-43-03" height="388" src="../../../images/17ebd84b44ceb5a09725a8f27ccda1c107bc4916f055a60def1ebbb063e62ff6.png" width="690"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       Also (in order not to create a new topic) is it normal, that reflections is fully visible in shadows?
      </p>
      <p>
       <img alt="2" height="500" src="../../../images/2beba55b4cd850344fa7bdefafaf05dd9b20845b8b80a5ee99f96353acb1ad80.jpg" width="634"/>
       <br/>
       <img alt="1" height="500" src="../../../images/82c92d6968fb2b40714c7e323948e5cd8fa8f0998dc66ba9d4a4021c6c25a3d7.png" width="634"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/90c37cf62485b050a630164fc2236ee64c63407f82efabaceb8c13fef5f2012d.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      George1
     </div>
     <div class="post_content">
      <p>
       Unless there is total blackout, in real life, reflection also shown under shadows.
      </p>
      <p>
       Try to cover  your hand on reflected surface in a room. There is still reflection.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e06bdaa9b192f1c9d4940fdd01e33b947cc0445d7b50f3766849acf8c3db6d9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      1vanK
     </div>
     <div class="post_content">
      <p>
       Things in the shadow are illuminated by indirect lighting. Indirect lighting has the same physical laws as direct light. You will never see a reflection on a rusted metal even in the shadow
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       The IBL showing in shadows is more just a lmitations of IBL, its a static cubemap the is filtered outside of the engine. although i feel it may not be filtering correctly as the roughness in shadows doesnt look to change.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       Could something like
       <span class="mention">
        @godan
       </span>
       ’s reflection probe be what you’re looking for?
      </p>
      <aside class="onebox whitelistedgeneric">
       <header class="source">
        <img class="site-icon" height="32" src="../../../images/c141c7f37f4693aede059b0ec09be4e00c60670280a75f4ad744775405dcd4b4.ico" width="32"/>
        <a href="https://discourse.urho3d.io/t/use-skybox-material-as-reflection-source/3016/4?u=modanung" rel="nofollow noopener" target="_blank">
         Urho3D
        </a>
       </header>
       <article class="onebox-body">
        <img class="thumbnail onebox-avatar" height="200" src="../../../images/e029efb649b3ca086e16e3ea009c8f151308f54d2656261b8fdac62dc5176059.png" width="200"/>
        <h3>
         <a href="https://discourse.urho3d.io/t/use-skybox-material-as-reflection-source/3016/4?u=modanung" rel="nofollow noopener" target="_blank">
          Use Skybox material as reflection source
         </a>
        </h3>
        <p>
         So, rather than using some kind of screen space hack, I wrote a reflection probe component. This ties in beautifully with the existing PBR pipeline. Check it out:
        </p>
       </article>
       <div class="onebox-metadata">
       </div>
       <div style="clear: both">
       </div>
      </aside>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       Test on my ipad air 4 2014:
      </p>
      <p>
       <img alt="IMG_0580" height="500" src="../../../images/329fa47347d07f6fada031e8a65c4b74ca423b954a049a945ca568afd111e40e.jpg" width="666"/>
      </p>
      <p>
       this is serious.
      </p>
      <p>
       It’s not working at all.
       <br/>
       Could it be something related to opengl version used?
       <br/>
       Both devices I’m testing (the other is galaxy note 4) are open gl es 3.
       <br/>
       Is there a way to check if they are using the right opengl version in the urho logs?
       <br/>
       I must add I’m on urho 1.6 version… going to test 1.7 next.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/35cda981c3403e28c7f80229c59e72f5521005561acb2586edf2bd1909df9578.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      dragonCASTjosh
     </div>
     <div class="post_content">
      <p>
       im going to look into it tonight, there are also a few other PBR mobile improvements i have in mind
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/90c37cf62485b050a630164fc2236ee64c63407f82efabaceb8c13fef5f2012d.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      George1
     </div>
     <div class="post_content">
      <p>
       Sorry! I missed understand you. I didn’t look at the first picture at first.
       <br/>
       There is definitely not right in the second picture, as the glossiness seems high. Definitely a cube map issue.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>