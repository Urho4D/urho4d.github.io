<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Android mobile shows jaggies in the instersection plane-terrain
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Android mobile shows jaggies in the instersection plane-terrain
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/107c3bd0b741a139d4f11ce55eab7df3d54f343ae8d7f15c6b19b27c5ab3a7f9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      feresmu
     </div>
     <div class="post_content">
      <p>
       Hi
       <br/>
       For performance issues, I tried to change the water material (Materials/Water.xml) with Materials/Red.xml
      </p>
      <pre><code class="lang-auto">&lt;material&gt;
    &lt;technique name="Techniques/NoTexture.xml" /&gt;
    &lt;parameter name="MatDiffColor" value="1 0 0 0.25" /&gt;
    &lt;parameter name="MatSpecColor" value="1 1 1 16" /&gt;
&lt;/material&gt;
</code></pre>
      <p>
       in the water example (without reflexion camera).
       <br/>
       It works fine in desktop and android table.
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" data-download-href="/uploads/short-url/uahQ3shDShUmeeHmINRYih0RlI5.png?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png" rel="noopener nofollow ugc" title="Captura">
         <img alt="Captura" data-base62-sha1="uahQ3shDShUmeeHmINRYih0RlI5" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9_2_10x10.png" height="500" src="../../../images/6c8044b597f0ebcd15a168ad08a36968fb8c00e61a9ec4fb0b3d87bd7248925b.png" srcset="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9_2_374x500.png, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png 2x" width="374"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use href="#far-image">
           </use>
          </svg>
          <span class="filename">
           Captura
          </span>
          <span class="informations">
           514×687 102 KB
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       But in android mobile it shows jaggies in the instersection with the terrain.
       <br/>
       <div class="lightbox-wrapper">
        <a class="lightbox" data-download-href="/uploads/short-url/4AIKKpt7muhRBkZazoenPNMrGB1.jpeg?dl=1" href="https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/202f5cf389cea3db477c5f19d4408b51aaf5abe7.jpeg" rel="noopener nofollow ugc" title="IMG-4766">
         <img alt="IMG-4766" data-base62-sha1="4AIKKpt7muhRBkZazoenPNMrGB1" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/202f5cf389cea3db477c5f19d4408b51aaf5abe7_2_10x10.png" height="500" src="../../../images/0b033ef7dff8e7722f7c3fca75a6245dd2fcbb535fbb1551969a918dae14b848.jpeg" srcset="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/2/202f5cf389cea3db477c5f19d4408b51aaf5abe7_2_375x500.jpeg, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/202f5cf389cea3db477c5f19d4408b51aaf5abe7.jpeg 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/202f5cf389cea3db477c5f19d4408b51aaf5abe7.jpeg 2x" width="375"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use href="#far-image">
           </use>
          </svg>
          <span class="filename">
           IMG-4766
          </span>
          <span class="informations">
           514×685 16.3 KB
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
       <br/>
       I tried a lot of things like change material with SetDepthBias or SetRenderOrder but nothing works.
       <br/>
       The terrain is the same of the water example.
       <br/>
       Any ideas?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <p>
       What’s your camera range, znear/zfar? I assume you don’t use orthographic cameras.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/107c3bd0b741a139d4f11ce55eab7df3d54f343ae8d7f15c6b19b27c5ab3a7f9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      feresmu
     </div>
     <div class="post_content">
      <p>
       Hi.
       <br/>
       I don’t use orthographic cameras.
       <br/>
       Because the camera can be far away of the terrain I create it with:
       <br/>
       Camera* camera = cameraNode_-&gt;CreateComponent();
       <br/>
       camera-&gt;SetFarClip( 11750.0f );
      </p>
      <p>
       Then
       <br/>
       nearClip_ = 0.100000001
       <br/>
       farClip_ = 11750.0000
      </p>
      <p>
       if I do
       <br/>
       Camera* camera = cameraNode_-&gt;CreateComponent();
       <br/>
       only (without camera-&gt;SetFarClip( 11750.0f )
       <img alt=":wink:" class="emoji" src="../../../images/f6b86554472159b74d0ab91b2cb3cd75cf361ccf96a141a4ebd3363c38e7f8eb.png" title=":wink:"/>
       <br/>
       nothing happens ( it shows jaggies )
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-post="3" data-topic="7125" data-username="feresmu">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/ad5f1ba6a1a763704890f9145ce0492dccbcd0e8bf307f98648c58ed227553aa.png" width="20"/>
        feresmu:
       </div>
       <blockquote>
        <p>
         nearClip_ = 0.100000001
         <br/>
         farClip_ = 11750.0000
        </p>
       </blockquote>
      </aside>
      <p>
       Yep, what I thought.
       <br/>
       You probably have only 16 bits of depth on mobiles.
      </p>
      <p>
       Just to give you an idea of how little it is… You literally have no intermediate depths between
       <br/>
       z=2562, z=4207, and z=11750, these are 65533th, 65534th and 65535th depth layers. There will be no deterministic depth order between an object on z=4k and another object on z=5k.
      </p>
      <aside class="quote no-group" data-post="3" data-topic="7125" data-username="feresmu">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/ad5f1ba6a1a763704890f9145ce0492dccbcd0e8bf307f98648c58ed227553aa.png" width="20"/>
        feresmu:
       </div>
       <blockquote>
        <p>
         nothing happens ( it shows jaggies )
        </p>
       </blockquote>
      </aside>
      <p>
       Default values are still too much. Try near=1 and far=100?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/107c3bd0b741a139d4f11ce55eab7df3d54f343ae8d7f15c6b19b27c5ab3a7f9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      feresmu
     </div>
     <div class="post_content">
      <p>
       Hi.
       <br/>
       It seems that camera-&gt;SetNearClip( 1 ); do the trick
       <br/>
       even with camera-&gt;SetFarClip( 3000.0f );
      </p>
      <p>
       Well, with camera-&gt;SetFarClip( 3000.0f ); I show jaggies but are smaller.
       <br/>
       But with camera-&gt;SetNearClip( 100 ); and camera-&gt;SetFarClip( 700 ); I show perfect, like desktop.
       <br/>
       So playing with that and the camera distance and limit camera zoom out, I got it.
      </p>
      <p>
       Thanks a lot!!
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>