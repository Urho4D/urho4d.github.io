<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   A hard question
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    A hard question
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/44fdf50661c1d4ef10e9658b5af46402b4b85aee712cfb91b608b8642fb2800e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      spwork
     </div>
     <div class="post_content">
      <p>
       I had a game, there is a mouse drag box to select building delete functions, but deleted when there is such a problem, some time can remove some normal, when node acquired from the RigidBody2D pointer to 0xDDDDDDDD, why this is the case, if I donâ€™t use node-&gt;Remove () is not wrong, different objects there will be a correlation between? How should I correct it?
      </p>
      <pre><code>    PODVector&lt;RigidBody2D*&gt; bodys;
    SCENEMANAGER-&gt;GetScene()-&gt;GetComponent&lt;PhysicsWorld2D&gt;()
    			-&gt;GetRigidBodies(bodys, Rect(x, y, cx, cy));

		auto mapMg = MAPMANAGER;
		for (auto i = bodys.Begin(); i != bodys.End();i++)
		{
			auto node = (*i)-&gt;GetNode();
			if (!node-&gt;HasTag("Building"))continue;
			
			auto pos = node-&gt;GetPosition2D();
			mapMg-&gt;GetMapNode(pos.x_, pos.y_)-&gt;DelNode();
			node-&gt;Remove();
		}</code></pre>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/44fdf50661c1d4ef10e9658b5af46402b4b85aee712cfb91b608b8642fb2800e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      spwork
     </div>
     <div class="post_content">
      <p>
       Ha ha, I know, some buildings have multiple collisions, so the same rigid body has been added many times, so that the same node will be deleted many times, and repeat the deletion of the same node will be wrong.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>