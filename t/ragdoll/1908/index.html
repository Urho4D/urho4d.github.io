<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Ragdoll
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Ragdoll
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/b8f5dad81b656072038634f7e88edcb9a54ec3432d6d48dbaba8878d623899bd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Dave82
     </div>
     <div class="post_content">
      <p>
       Hi ! Did anyone managed to build a ragdoll for a custom (non Jack
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
       ) model ? I’m struggling with it approximately 6 hours and every parameter i change makes the ragdoll worst
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
       <br/>
       Because there are so many parameters to change , i found it nearly impossible to get my ragdoll working by trial and error.Either the constraint rotations are totaly wrong or the character is twiching , but i swear i tried all possible axis combinations and my model still looks like  when the girl form “the exorcist” walks down the stairs upside down
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
      </p>
      <p>
       Is there any tutorial for this ? Or is it possible to calculate the axes and the high/low limit from some available parameters ? (bone local transform , bone size , etc )
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/3fae9a3c77d58dff7a184b992d1555d6f939c76e8f4e9f8a3640c249d001e184.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      yushli
     </div>
     <div class="post_content">
      <p>
       This may be related to your issue:
       <a href="http://discourse.urho3d.io/t/solved-distinguish-collision-of-diff-parts-in-animatedmodel/1882/1">
        topic1969.html
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/b8f5dad81b656072038634f7e88edcb9a54ec3432d6d48dbaba8878d623899bd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Dave82
     </div>
     <div class="post_content">
      <p>
       Thanks ! Well i got the CollisionShapes’ position and rotation offsets right , but still struggling with
       <a href="http://it.It" rel="nofollow noopener">
        it.It
       </a>
       seems that the Constraint params are wrong. Either the bones are rotated in the wrong direction or the upper lower limits are wrong i don’t know… The next thing we need in Urho Editor is a Ragdoll editor… because tweaking like this is a nightmare…
      </p>
      <p>
       Something like this :
      </p>
      <p>
       [video]
       <a href="https://www.youtube.com/watch?v=dCwNaE_eVsM%5B/video%5D" rel="nofollow noopener">
        https://www.youtube.com/watch?v=dCwNaE_eVsM[/video]
       </a>
      </p>
      <p>
       EDIT :
       <br/>
       I checked my models against Jack and it seems that i export my models facing backwards (180 degs offset on y axis) . Have anyone any idea how to modify the ragdoll creation code to generate everything (Constraints , RigidBodies) to face in the oposite direction ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       I think the problem is that there is no convention for the coordinate axes of a character’s skeleton (such as the simple “positive Z is forward” we’d usually use for scene nodes) and setting up a ragdoll properly requires taking these into account. The ragdoll sample is basically only valid for the Jack model and you shouldn’t read too much into it. However if you can pinpoint that there’s an actual bug in Urho’s constraints that would prevent e.g. certain axes or limits to be used, then by all means submit an issue to github.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/b8f5dad81b656072038634f7e88edcb9a54ec3432d6d48dbaba8878d623899bd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Dave82
     </div>
     <div class="post_content">
      <p>
       Yess i got it ! Works perfectly now. I had to “visualize” the rotation of the parent and child bodies , and now i understand what they exacly do…
       <br/>
       works perfectly !
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Good to hear!
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>