<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Something question about kNet
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Something question about kNet
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/7ce23d28cb82b5f78e4c2f3f22c0c5efb3079f49b20fded00f65bd55c9dfb9e9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      ChunFengTsin
     </div>
     <div class="post_content">
      <p>
       Hi everyone!
       <br/>
       I am rewriting a online game with Urho3D_1.7.1, and the original project is writed use Unity3D(C#, TCP).
      </p>
      <ol>
       <li>
        <p>
         So I want to know if possible use kNet in client without the [Subsystem Network Of Urho3D],(the server side does not need to be modified).
        </p>
       </li>
       <li>
        <p>
         And when I do a test like this :
        </p>
       </li>
      </ol>
      <blockquote>
       <p>
        void GameTest::Start() {
       </p>
       <p>
        GetSubsystem()-&gt;SetMouseVisible(true);
        <br/>
        GetSubsystem()-&gt;SetMouseMode(MM_FREE);
       </p>
       <p>
        kNet::TCPMessageConnection tcp_test();
       </p>
       <p>
        }
       </p>
      </blockquote>
      <p>
       the error is :
      </p>
      <blockquote>
       <p>
        <span class="hashtag">
         #error:
        </span>
        Error: Trying to include winsock2.h after windows.h! This is not allowed! See this file for fix instructions.	client_	C:\Users\tsin\Desktop\Urho3D-1.7.1\include\Urho3D\ThirdParty\kNet\win32\WS2Include.h	33
       </p>
      </blockquote>
      <p>
       I have no experience on win socket，who can help me? I just want to build a demo that works well.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/011bfbe16d9b4a33ce1cce7865833056a98625b7c8eeaa485051c89a02104595.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lys0gen
     </div>
     <div class="post_content">
      <p>
       Check where the winsock inclusion is and just remove it? Pretty sure windows.h already has a
       <span class="hashtag">
        #include
       </span>
       for winsock.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/55a28ac655e792ddc5641665e82bbc3cd322414b90de6ccf16537644a3e53276.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      jmiller
     </div>
     <div class="post_content">
      <p>
       Perhaps this can help?
      </p>
      <aside class="quote quote-modified" data-post="4" data-topic="6136">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" loading="lazy" src="../../../images/a48325b8fcee36c6fac2cad75668f325e674d31494d94dc78c9773aa84f78b1d.png" width="20"/>
        <a href="https://discourse.urho3d.io/t/building-a-simple-example-using-mingw-from-command-line/6136/4">
         [Solved] Building a simple example using MinGW from command line
        </a>
        <a class="badge-wrapper bullet" href="/c/discussions/7">
         <span class="badge-category-bg" style="background-color: #25AAE2;">
         </span>
         <span class="badge-category clear-badge" data-drop-close="true" style="" title="Discussions about using Urho3D.">
          Discussions
         </span>
        </a>
       </div>
       <blockquote>
        Welcome to the community! 
I can offer some minor notes… 
Building from the
        <a href="https://github.com/urho3d/Urho3D">
         master
        </a>
        branch on github is frequently recommended as it maintains good stability, and there have been a number of fixes since last release. 
Possibly helpful to MingW users,
        <details>
         <summary>
          Here is a bit of code I was using in my app header to target MSW under MinGW and limit global namespace pollution and conflicts with Urho methods.
         </summary>
         #pragma once
// Somewhat limit windows header namespace pollution.

#ifdef _WIN32
#define WIN32_LEAN_AN…
        </details>
       </blockquote>
      </aside>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/7ce23d28cb82b5f78e4c2f3f22c0c5efb3079f49b20fded00f65bd55c9dfb9e9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      ChunFengTsin
     </div>
     <div class="post_content">
      <p>
       I solved this by add:
      </p>
      <blockquote>
       <p>
        <span class="hashtag">
         #define
        </span>
        <em>
         WINSOCKAPI
        </em>
       </p>
      </blockquote>
      <p>
       and I will try mingw also, thanks
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>