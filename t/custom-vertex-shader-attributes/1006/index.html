<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Custom Vertex Shader Attributes
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Custom Vertex Shader Attributes
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ad9bc7eb192b88d1c364c9b8fb8f80cf85ee14d41f54e1ae6101313dd36e4cba.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      friesencr
     </div>
     <div class="post_content">
      <p>
       How do you get custom vertex shader attributes into the system?
      </p>
      <p>
       Thanks,
       <br/>
       Chris
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       You mean vertex stream attributes, like normals, tangents, color?
      </p>
      <p>
       Currently you don’t, without modifying the engine. You could repurpose unused elements like texture coords (right now there’s just 2 channels though), cube texture coords or vertex colors. Probably need some hacking of the import/export chain for this.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       Any chance for adding dynamically custom attributes ? Or predefined custom attributes if it is easier. At the moment it is a bit of headache to send custom data to the shader.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Turso3D has custom vertex declarations; the code to support that could possibly be lifted to Urho3D. But no firm promises, as this breaks / changes the model format. It’s hard to support truly arbitrary attributes as usually the “semantic” of the attribute has to be known somewhere, especially on D3D. However, there could be a convention that the additional data would be in additional texcoord channels.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       There could be just predefined slots for Vector3f, Vector2f, Matrix4x4 or single float. Or we just read all the vertex attributes from the geometry and create appropriate slots. That is similar to the behaviour in most 3d packages today. We could have a convention for naming the attributes, for easier parsing.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5c558fe9eea0149eaf44ea4ec14f472d97558c6449201a4d2024a95bf22d5185.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      gawag
     </div>
     <div class="post_content">
      <p>
       Not sure what you mean by “custom vertex shader attributes”. Do you mean normal shader parameters like colors, positions or directions? Sounds a bitt too simple but:
       <a href="http://urho3d.wikia.com/wiki/HowTos#Custom_shader_parameters" rel="nofollow noopener">
        urho3d.wikia.com/wiki/HowTos#Cus … parameters
       </a>
       <br/>
       If you mean attributes per vertex: cadaver’s suggestion of “missusing” things like vertex normals, vertex colors, UV coordinates or vertex weights should work. But I don’t think that can be done as dynamically as normal shader parameters.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>