<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Can new GUIs be created without patching?
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Can new GUIs be created without patching?
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c0425a19e18e7ad6d9f07880c84ec36c12f859c87aa45963dba354857dc0658e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      christianclavet
     </div>
     <div class="post_content">
      <p>
       Hi! I’m really new to URHO3D and just discovered it recently. This project is really incredible with all the features that I always wanted!
      </p>
      <p>
       I would like to create an editor with URHO3D similar to the one I’ve worked on. (Working and learning on this for the last 5 years). It used Irrlicht as render/gui. (
       <a data-bbcode="true" href="http://irrrpgbuilder.sourceforge.net" rel="nofollow noopener">
        http://irrrpgbuilder.sourceforge.net
       </a>
       )
       <div class="lightbox-wrapper">
        <a class="lightbox" href="http://irrrpgbuilder.sourceforge.net/forum/download/file.php?id=180&amp;t=1" rel="nofollow noopener" title="">
         <img alt="" height="401" src="../../../images/675f207935c800bfb098596cc967881232310eea8f3d1e6b467c3b769099db68.php" width="690"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
          </span>
          <span class="informations">
           800×465
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       This is a simple game editor as I’m not a real programmer, but learning programming as a hobbyist. URHO3D save me  a lot of complexities has all the needed features are there, and I don’t think I would need to add other libs/framework to it to redo the game editor.
      </p>
      <p>
       I would need to add specific GUIs to the URHO3D gui. I’ve searched in the forum and on google but did not found more information on how to add custom GUIs.
       <br/>
       Basically, I would need to create in C++ without patching URHO3D:
      </p>
      <ul>
       <li>
        lua code editor with highlighting. Highlighting could be added later. If we can type in multiline would do first, then I could add features. (Would like to add to the URho3D gui)
       </li>
       <li>
        Tabbed GUI component. I don’t like menus and would use this instead.
       </li>
      </ul>
      <p>
       So is there some way of doing a new GUI component (C++) and use it directly from my application with the URHO3D gui? Looking from the editor you seem to have a “generic” UIelement, and it look possible. So could I create a new class using the base UIElement in my application or it would be required that new UIElements be added in URHO3D sources and recompiled?
      </p>
      <p>
       For the rest, the GUI is more than adequate, the URHO editor showed me a lot of nice stuff!
      </p>
      <p>
       For now, I’ve just compiled URHO and checking it. So I have lots of things to learn! The current GUI system is ok for me, I just need to be able to “plug” my own to it and I don’t like patching. I will also have to learn how git is working, I’m only familiar with SVN.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a9aa60fc39b46d07cb2562f0b11ec4762a64197339da1365b1faaafe4f4b3be8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      thebluefish
     </div>
     <div class="post_content">
      <p>
       Create a class that derives from UIComponent and do everything there.
      </p>
      <p>
       For example,
       <a data-bbcode="true" href="https://github.com/thebluefish/Urho3DEditor/blob/master/Prime/GameClient/src/UI/TabWindow.h" rel="nofollow noopener">
        here’s Scorvi’s tab control
       </a>
       .
      </p>
      <p>
       As far a text editor, that’s a bit more advanced. Honestly in that regard I’d look at integrating some third party UI, such as
       <a data-bbcode="true" href="https://github.com/fruxo/turbobadger" rel="nofollow noopener">
        Turbo Badger
       </a>
       . It’s a bit more advanced integrating a third-party library, but it will allow you to leverage much more mature libraries.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <p>
       I also did a Tab Menu Component workaround and example wayback. This was tested with older versions but since this was done purely via angelscript and xml layout files, it does not require tinkering with engine code and should work on the latest Editor code with some slight or no modifications at all.
      </p>
      <p>
       <img alt="" height="330" src="../../../images/5eb9305951110d09af8c5d91b4a9d854cb0c152b1b1c0c8536f2cf4883aab0f5.jpg" width="400"/>
      </p>
      <p>
       Original Thread and Files
       <br/>
       <a href="https://groups.google.com/forum/#!topic/urho3d/7IKM_UJndOg" rel="nofollow noopener">
        groups.google.com/forum/#!topic … IKM_UJndOg
       </a>
      </p>
      <p>
       *Patch is just for angelscript files only to automate the process but you can manually do those edits without problems.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c0425a19e18e7ad6d9f07880c84ec36c12f859c87aa45963dba354857dc0658e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      christianclavet
     </div>
     <div class="post_content">
      <p>
       Wow! Thanks! So it can be done! I’m really happy about this!
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
       <br/>
       Thanks for all the links. I’ll only start first at deriving the class and see how it work. The code editor can be simple at first, as I’m no hurry. Once I know more how to use Urho, I might try to put that library (the screenshot of the GUI was really beautiful!)
      </p>
      <p>
       Is there a URHO guide somewhere on how to make skins for the GUI? The current editor is really nice for the functionalities it offer, but would need little tweaks on the design in my opinion. The icons are really too small for the resolution we have today. (The icons size seem to be from the 1024x768 era, where we have 2K and 4K monitors today)
       <br/>
       If we compare with Unreal editor, check the icon size they have:
       <br/>
       <img alt="" height="" src="missing_image.png?original=http%3A//i1.wp.com/blog.digitaltutors.com/wp-content/uploads/2014/05/Interface.jpg" width=""/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6f717edbbb6794a81024a65a0b329f4d47f598f032ada0b9ad3e06d3c5e8ecc7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      boberfly
     </div>
     <div class="post_content">
      <p>
       Hi,
      </p>
      <p>
       From memory there’s one texture atlas Textures/UI.png and an xml file which defines the offsets. You could, for instance, 2x the texture but then the offsets are pixel-aligned and not based on points.
       <br/>
       <a data-bbcode="true" href="https://github.com/urho3d/Urho3D/blob/master/bin/Data/UI/DefaultStyle.xml" rel="nofollow noopener">
        https://github.com/urho3d/Urho3D/blob/master/bin/Data/UI/DefaultStyle.xml
       </a>
      </p>
      <p>
       From the docs:
       <br/>
       <a data-bbcode="true" href="http://urho3d.github.io/documentation/1.4/_u_i.html" rel="nofollow noopener">
        http://urho3d.github.io/documentation/1.4/_u_i.html
       </a>
      </p>
      <p>
       So yeah, it would need to be patched so that it doesn’t use integers (IntRect) but rather floating point normalized to the screen co-ords perhaps?
       <br/>
       <a data-bbcode="true" href="https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/UI/BorderImage.h" rel="nofollow noopener">
        https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/UI/BorderImage.h
       </a>
       <br/>
       (at the bottom).
      </p>
      <p>
       Or BYO libRocket/imgui/TurboBadger/nanovg-based GUI and hook up Urho3D’s resource/events/gfx/etc.? I’ve recently played around with kivy (a touch/UI framework for python that also works on mobile) and that brings some nice concepts too, but it’s python…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/999065d0609f591a82c8a3f4f534d814fd1605f4d7ed98ff3bc0d9aed9d27d87.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      codingmonkey
     </div>
     <div class="post_content">
      <blockquote>
       <p>
        The icons are really too small for the resolution we have today
        <br/>
        for my 1080p the icons size it’s ok. and am do not like unreal style menus there is a lot strange and useless things - they close view, and these biggest icons it’s awful, yes this is biggest icons in editor that’s why i’m do not install UE4  yet
        <img alt=":laughing:" class="emoji" src="../../../images/a3f9c0d9c41d961ddc96e236bc4a514a0edada8ce56cd0128d33952054cdc236.png" title=":laughing:"/>
        <br/>
        IMO better to use a lot of shortcuts than this.
       </p>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <p>
       If icon sizes or resolution is an issue, perhaps it’s time to consider and include SVG rendering for images/sprites. For starters, I found these libraries which supports SDL2 and cross platform…
      </p>
      <p>
       <a href="https://github.com/bazzinotti/MultiPlatformSVGRenderer" rel="nofollow noopener">
        github.com/bazzinotti/MultiPlatformSVGRenderer
       </a>
       <br/>
       <a href="http://www.linuxmotors.com/SDL_svg/" rel="nofollow noopener">
        linuxmotors.com/SDL_svg/
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6f717edbbb6794a81024a65a0b329f4d47f598f032ada0b9ad3e06d3c5e8ecc7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      boberfly
     </div>
     <div class="post_content">
      <p>
       [quote=“rasteron”]If icon sizes or resolution is an issue, perhaps it’s time to consider and include SVG rendering for images/sprites. For starters, I found these libraries which supports SDL2 and cross platform…
      </p>
      <p>
       <a href="https://github.com/bazzinotti/MultiPlatformSVGRenderer" rel="nofollow noopener">
        <span>
         https
        </span>
        <span>
         ://
        </span>
        <span>
         github
        </span>
        <span>
         .
        </span>
        <span>
         com
        </span>
        <span>
         /
        </span>
        <span>
         bazzinotti
        </span>
        <span>
         /
        </span>
        <span>
         MultiPlatformSVGRenderer
        </span>
       </a>
       <br/>
       <a href="http://www.linuxmotors.com/SDL_svg/" rel="nofollow noopener">
        <span>
         http
        </span>
        <span>
         ://
        </span>
        <span>
         www
        </span>
        <span>
         .
        </span>
        <span>
         linuxmotors
        </span>
        <span>
         .
        </span>
        <span>
         com
        </span>
        <span>
         /
        </span>
        <span>
         SDL
        </span>
        <span>
         _
        </span>
        <span>
         svg
        </span>
        <span>
         /
        </span>
       </a>
       [/quote]
      </p>
      <p>
       There’s also:
       <br/>
       <a data-bbcode="true" href="https://github.com/memononen/nanovg" rel="nofollow noopener">
        https://github.com/memononen/nanovg
       </a>
       <br/>
       <a data-bbcode="true" href="https://github.com/memononen/nanosvg" rel="nofollow noopener">
        https://github.com/memononen/nanosvg
       </a>
      </p>
      <p>
       Last night I was studying nanovg in bgfx which makes it work on any API bgfx supplies. I’m not too sure which is easier, replace the GL2/3 backend or the bgfx one with a more Urho3D flavour, or use both as a guide to make one…
      </p>
      <p>
       For performance concerns, there’s also a patch someone made that’s been tested with KiUi:
       <br/>
       <a data-bbcode="true" href="https://twitter.com/hugoamnov/status/593449484866199552" rel="nofollow noopener">
        https://twitter.com/hugoamnov/status/593449484866199552
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="boberfly">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/6397745ff69b2f9fb84d78e554ebced677ef5e2f10346587d937233146957c71.png" width="20"/>
        boberfly:
       </div>
       <blockquote>
        <p>
         There’s also:
         <br/>
         <a data-bbcode="true" href="https://github.com/memononen/nanovg" rel="noopener nofollow ugc">
          https://github.com/memononen/nanovg
         </a>
         <br/>
         <a data-bbcode="true" href="https://github.com/memononen/nanosvg" rel="noopener nofollow ugc">
          https://github.com/memononen/nanosvg
         </a>
        </p>
       </blockquote>
      </aside>
      <p>
       Looks good.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c0425a19e18e7ad6d9f07880c84ec36c12f859c87aa45963dba354857dc0658e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      christianclavet
     </div>
     <div class="post_content">
      <p>
       Hi, Been learning and experimenting on how the interface is done in the URHO editor. I’m really impressed with all the features there are! Tried The internal GUI is really FAR SUPERIOR of what I’ve experienced with Irrlicht!
      </p>
      <p>
       Here is a screen. Mostly scaled the icons to be a little bigger. On my monitor the icons looked really tiny. The size I’ve set them is adequate. I found out that the GUI can scale the icons picture without having to scale the image itself. So we could create very high resolutions pictures (for 4k resolution) and simply use a formula to set the desired size. I really find the GUI refresh to be fast!
      </p>
      <div class="spoiler">
       <p>
        <div class="lightbox-wrapper">
         <a class="lightbox" href="http://www.clavet.org/files/URHO/EditorTweaks.jpg" rel="nofollow noopener" title="">
          <img alt="" height="373" src="../../../images/4c3856ab0f7fd7ff7e02dddcebaddcfae1bc68136e06750cc970c8d5fd06cbd6.jpg" width="690"/>
          <div class="meta">
           <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
            <use xlink:href="#far-image">
            </use>
           </svg>
           <span class="filename">
           </span>
           <span class="informations">
            1920×1040
           </span>
           <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
            <use xlink:href="#discourse-expand">
            </use>
           </svg>
          </div>
         </a>
        </div>
       </p>
      </div>
      <p>
       One part was easy, I had only to load the XML layout definition in the editor itself and edit the GUI, the other part was editing the XML of the SKIN definition for the styles, and the last part was to edit some .AS files because the toolsbars seem to be generated from code.
      </p>
      <p>
       There 2 things that I was able to use in Irrlicht that is not there: Tabbed windows, and multi-line edit box.
      </p>
      <p>
       One thing that would be nice with the editor, is to improve the inspector to have each component in a window (fixed size and collapsable window in a window) that could be put in a single line (title with a direction arrow to expand-collapse). And a content window that take all theses component, so we could use a scrollbar to look at all the component instead of them being squashed and not operable. (This only happen when you have lots of component on a node)
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>