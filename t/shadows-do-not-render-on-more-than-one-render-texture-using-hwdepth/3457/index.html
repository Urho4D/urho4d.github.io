<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Shadows do not render on more than one Render Texture using HWDepth
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Shadows do not render on more than one Render Texture using HWDepth
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d969f8ba493692df5c7eaf432117d9915a733a1da44c03c8108044e35078b19a.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      SeanV
     </div>
     <div class="post_content">
      <p>
       Hello, I’m working on integrating OpenVR into Urho3D, but I’ve noticed a problem when using more than one Render Texture with hardware depth.
      </p>
      <p>
       Only the last texture to have SetSize() called on it will have shadows. The other texture will have no shadows rendered – yet if the camera itself is in shadow then the entire scene will be in shadow.
      </p>
      <p>
       <div class="lightbox-wrapper">
        <a class="lightbox" href="https://global.discourse-cdn.com/standard17/uploads/urho3d/original/1X/064fd17a1de913e216594177e4c8c80f484b5435.jpg" rel="nofollow noopener" title="rendertexture.jpg">
         <img alt="rendertexture" data-small-upload="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/1X/064fd17a1de913e216594177e4c8c80f484b5435_2_10x10.png" height="500" src="../../../images/f7c767d15c2e3c19c87010172ef58cd7f8bf450785d4782ba06db950a2f337ef.jpg" srcset="https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/1X/064fd17a1de913e216594177e4c8c80f484b5435_2_645x500.jpg, https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/1X/064fd17a1de913e216594177e4c8c80f484b5435_2_967x750.jpg 1.5x, https://global.discourse-cdn.com/standard17/uploads/urho3d/original/1X/064fd17a1de913e216594177e4c8c80f484b5435.jpg 2x" width="645"/>
         <div class="meta">
          <svg aria-hidden="true" class="fa d-icon d-icon-far-image svg-icon">
           <use xlink:href="#far-image">
           </use>
          </svg>
          <span class="filename">
           rendertexture.jpg
          </span>
          <span class="informations">
           1040×806 156 KB
          </span>
          <svg aria-hidden="true" class="fa d-icon d-icon-discourse-expand svg-icon">
           <use xlink:href="#discourse-expand">
           </use>
          </svg>
         </div>
        </a>
       </div>
      </p>
      <p>
       This can be verified by altering the RenderToTexture sample to have two cameras and two screens. The first render texture will only have shadows if the second render texture is out of view. I can provide this code if necessary!
      </p>
      <p>
       This bug only occurs when using render paths that make use of HWDepth, like PBRDeferredHWDepth. Notably, the bug does not come up when using ForwardHWDepth.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Recommend to make a Github issue, so that this isn’t forgotten.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d969f8ba493692df5c7eaf432117d9915a733a1da44c03c8108044e35078b19a.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      SeanV
     </div>
     <div class="post_content">
      <p>
       Thanks, I’ll do that. I was hoping I was just doing something wrong!
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>