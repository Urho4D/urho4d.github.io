<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Compilation error when including Terrain.h
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Compilation error when including Terrain.h
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/8b8883a447bcbb1d36874a9fc90803f0fdb5fe8513f3c24c96e383de1835f2ec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      setzer22
     </div>
     <div class="post_content">
      <p>
       I get this (and only this) compilation error when including Terrain.h
      </p>
      <pre><code class="lang-auto">In file included from (...)MyProject/Source/Components/Map/Graphics/MapGraphics.cpp:4:0:
(...)Urho3D/Source/Engine/Graphics/Terrain.h:181:15: error: ?IndexBuffer? was not declared in this scope
     SharedPtr&lt;IndexBuffer&gt; indexBuffer_;
               ^
(...)/Urho3D/Source/Engine/Graphics/Terrain.h:181:26: error: template argument 1 is invalid
     SharedPtr&lt;IndexBuffer&gt; indexBuffer_;
                          ^</code></pre>
      <p>
       [size=85]Note that I have omitted unnecesary path names. “MyProject” is my own project folder and “Urho3D” is the Urho3D main folder.[/size]
      </p>
      <p>
       I will post my CMakeLists.txt file if requested but I don’t think it has nothing to do with it as all other headers are including just fine. The problem doesn’t seem to be either on Component.h, the file included in Terrain.h as my compiler would complain on that file as well… I suspect this might be a bug with Terrain not including all the dependencies it has because in the original engine code they were already imported beforehand. Could that be?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/8b8883a447bcbb1d36874a9fc90803f0fdb5fe8513f3c24c96e383de1835f2ec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      setzer22
     </div>
     <div class="post_content">
      <p>
       I solved this by adding:
      </p>
      <pre><code class="lang-auto"></code></pre>
      <p>
       But the documentation says that to get the IndexBuffer class you should:
      </p>
      <pre><code class="lang-auto"></code></pre>
      <p>
       And the documentation for terrain doesn’t list any more includes than Terrain.h, so I don’t get why this is happening.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Terrain.h was missing a forward declaration of IndexBuffer, it has been just added to master.
      </p>
      <p>
       Including IndexBuffer.h is correct and platform-agnostic. Seeing OGLIndexBuffer.h there is the result of Doxygen searching through the include files to find the “actual” included file and should be ignored.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ac13286af345bef5a8e8da90a88e9fc0e9d6f349d8aa367436e7ffdeeddaeb9e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      weitjong
     </div>
     <div class="post_content">
      <p>
       Currently all the documentation pages in the website are generated by using Doxygen on a Linux build environment, therefore the class sources and headers are from the point of view from Linux platform. They also only show class hierarchy that uses the OpenGL backend and never the Direct3D backend, which is not entirely accurate as Urho3D library is cross-platform.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/8b8883a447bcbb1d36874a9fc90803f0fdb5fe8513f3c24c96e383de1835f2ec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      setzer22
     </div>
     <div class="post_content">
      <p>
       Oh, looks like I found a bug then. Thanks for fixing it so fast!
      </p>
      <p>
       Thank you for clarifying that, most of the includes in the documentation seem to work normally but sometimes I see strange things like that and wonder.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>