<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   ‘Failed to create input layout for shader LitSolid(DIRLIGHT NORMALMAP PERPIXEL) due to missing vertex element’
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    ‘Failed to create input layout for shader LitSolid(DIRLIGHT NORMALMAP PERPIXEL) due to missing vertex element’
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       I’d importered a model from FBX with one of a alpha texture(*.png) just now.Then I loaded the model,setting the material(with the alpha texture).I sadly found that the material didn’t work probably while it worked normally in Material Edit.The error code is ‘Failed to create input layout for shader LitSolid(DIRLIGHT NORMALMAP PERPIXEL) due to missing vertex element’.What was the matter?How can I deal with it?
      </p>
      <p>
       <img alt="%40%7BW0W%7B%5BN9X75D8L505LEHHK" height="29" src="../../../images/82f69b2f98c3169f93d23849d041b065b0824d9ca1c2af214ce46c44fdff95b6.png" width="690"/>
       <br/>
       <img alt="1%5DZ9N_YY%7D%405X%40YRVCJM(BNH" height="499" src="../../../images/c9f1808e7228a78eb9cb621c9e4ac4dd0849f54ed9d6c801d08e62e9ad61a1dc.png" width="294"/>
       <img alt="C6MBN%5D0JUFB7MOPF%60SW%241~R" height="376" src="../../../images/5dc35ec37a8ce1432aca1700e011db9fabee2b4ab46277c3f4373a9ce2734969.jpeg" width="690"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/c24c93e794e8d919ef829acfad2b3f83cbd23485bcd826225def4391e2fb0cb0.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      lezak
     </div>
     <div class="post_content">
      <p>
       It means exactly what is written in the error message - Your model is missing some vertex element required by the technique You are using (
       <a href="https://urho3d.github.io/documentation/HEAD/_vertex_buffers.html" rel="nofollow noopener">
        here
       </a>
       is the list of all vertex elements). I can see that You have uvs, so it propably would be normal and/or tangents (those are required for normal map).
       <br/>
       Also to make use of alpha from the texture You’ll have to define ALPHAMASK in technique or use one of the predefined techniques with alpha - Your current setup is not using alpha.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       So how can I do?I tried to set PetVerText true,but if I do so,the normal Texture will not work.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       Common advice around here in these situations is to take it through
       <a href="https://www.blender.org/" rel="nofollow noopener">
        Blender
       </a>
       :
       <br/>
       <aside class="onebox whitelistedgeneric">
        <header class="source">
         <img class="site-icon" height="32" src="../../../images/2ee43237d196100210f1786e7b73b57cd140f6013c072c70dbdffd9e9bc695f8.ico" width="32"/>
         <a href="https://github.com/reattiva/Urho3D-Blender" rel="nofollow noopener" target="_blank">
          GitHub
         </a>
        </header>
        <article class="onebox-body">
         <img class="thumbnail onebox-avatar" height="420" src="../../../images/86b824f3a3527ab2770f2b8f8ced60d07b4b2493ac7a8fc44b06a7e9133e4195.png" width="420"/>
         <h3>
          <a href="https://github.com/reattiva/Urho3D-Blender" rel="nofollow noopener" target="_blank">
           reattiva/Urho3D-Blender
          </a>
         </h3>
         <p>
          Blender to Urho3D mesh exporter. Contribute to reattiva/Urho3D-Blender development by creating an account on GitHub.
         </p>
        </article>
        <div class="onebox-metadata">
        </div>
        <div style="clear: both">
        </div>
       </aside>
       <br/>
       …and mark the right checkboxes.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       However,‘Jack.mdl’ has the same problem when set material “Materials/StoneSmall.xml”
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       Jack never intended to put on a normal map, or anything else for that matter.
       <img alt=":stuck_out_tongue_winking_eye:" class="emoji" src="../../../images/6a693010b77b3ab855dfa10f04416f7bd49775f13cb069c88c7c460e060e69d2.png" title=":stuck_out_tongue_winking_eye:"/>
       <br/>
       Feel free to give Jack some tangent data and submit it as a pull request. I don’t think there would be objections to the model working correctly with normal maps.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       Well,by the way.How can I mark the right checkboxes?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       You will find them in the
       <em>
        Render
       </em>
       tab of the properties panel.
       <br/>
       In your case the settings should be something like this:
       <br/>
       <img alt="image" height="500" src="../../../images/7b508bb2453405418dcdda7de657a23d5de9b19bbc8668fe9afda25dcf829d73.png" width="217"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       But it dosen’t work all the same.Only if setting PetVerText true can it work normally,but if I do so,the normal Texture will not work.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-post="9" data-topic="4538">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/8f666de1f8f0555533b1d568baf1de480f3bd0068a903e559133fa4820faab94.png" width="20"/>
        RockRockWhite:
       </div>
       <blockquote>
        <p>
         PetVerText
        </p>
       </blockquote>
      </aside>
      <p>
       What do you mean by this?
       <br/>
       Would you mind sharing the assets so I (or someone else) could have a look and try?
       <br/>
       To get transparency to show you’ll need to use the
       <code>
        DiffNormalSpecAlpha
       </code>
       technique, btw.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       谢谢你一直热心解答.
       <img alt=":grinning:" class="emoji" src="../../../images/f88b3dd8be457c7635b001536c53b98923c1c4de31b14a9aba5910f7f9e98e7c.png" title=":grinning:"/>
       算了,敲英文太累了,看了你的主页我想中文你应该看得懂的.我这个模型只是随便从网上下载下来试用的.是fbx带有法线贴图的那种.我导出成mdl后在编辑器试用,但是如果我不设置灯光Pet VerTex为True的话,模型的纹理就会像图上一样莫名变黑
       <img alt="_YBW%7BNV%7BEF53~%7DCUVX%5DP%25NJ" height="376" src="../../../images/87b0dadae5a883264955f6f9005cdee9e21b1dc5233f1e52c02c46edc8909b2c.png" width="690"/>
       ,如果我设置了Pet VerTex为True,模型能正常看到,但是法线贴图就无效了.但是我发现同样的纹理在box.mdl等基本模型上面就就没有任何问题. 我贴上我网上下载的模型,和转换后的模型
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       下载的fbx模型和转换后的模型:
       <a href="https://pan.baidu.com/s/17DoY4DiEqblo5vso_MMbIQ" rel="nofollow noopener">
        https://pan.baidu.com/s/17DoY4DiEqblo5vso_MMbIQ
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       Solved.Thank you very much!Using the Editor (File -&gt; Import Model),everything is all right!
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       我只懂中文，因为机器会为我翻译。
       <img alt=":wink:" class="emoji" src="../../../images/f6b86554472159b74d0ab91b2cb3cd75cf361ccf96a141a4ebd3363c38e7f8eb.png" title=":wink:"/>
       <br/>
       Glad you solved it.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       I saw in your page "魔大农’ ，which made me think you are know chinese
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       I made up the name Modanung - from the top of my head - when I was about thirteen years old, with no intention of it having any meaning beyond it being my nickname in virtual environments. About a year ago I found out (while translating lines from
       <a href="https://www.themoviedb.org/tv/1437-firefly?language=zh-CN">
        Firefly
       </a>
       and being twice as old) these three Chinese characters closely dictate the intended pronunciation. Seeing that many people are more familiar with Chinese characters than Latin characters I figured I’d use both. Also it’s shorter and I think it looks cool.
       <img alt=":sunglasses:" class="emoji" src="../../../images/0e96db4df869e8e4a38a76b7be66ebb1d80af768e193fcbb7e29abde3980af2a.png" title=":sunglasses:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       So it does.And the two characters pronounced similarly.It’s really cool!
       <img alt=":grinning:" class="emoji" src="../../../images/f88b3dd8be457c7635b001536c53b98923c1c4de31b14a9aba5910f7f9e98e7c.png" title=":grinning:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0c228ce8069728433b1b467b8dffe6cc3cfd884270ca488fadefeea0b9c7a565.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      RockRockWhite
     </div>
     <div class="post_content">
      <p>
       But I’m poor in English and have difficulty to read the web in English .
       <img alt=":disappointed_relieved:" class="emoji" src="../../../images/dab3bd053be5972819df0b7a9d9214bfc7bdddac9e8a6e93a42cf115bb154ab2.png" title=":disappointed_relieved:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9f4d89a6ec8768b8bd5426c30c4812f04cddcb7e43e803179951cb20a4f1c8bf.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Modanung
     </div>
     <div class="post_content">
      <p>
       叢林中掙扎激勵鋪平道路
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <div class="spoiler">
       <p>
        Struggling through the jungle motivates to pave the road
       </p>
      </div>
      <p>
       (A minimum of 20 characters is quite a high bar in Chinese, btw.)
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>