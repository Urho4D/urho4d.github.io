<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   What is most effective way to implement area entry/exit events?
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    What is most effective way to implement area entry/exit events?
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       Hi, all!
      </p>
      <p>
       I need to implement areas where players/npcs can enter and some event happens/variable set.
       <br/>
       on area exit some other event happens.
      </p>
      <p>
       For example, when player character stays in area near door,  the message is displayed "Press E to open"
       <br/>
       and when he presses E that door opens. If he is not in this area, there’s no message and reaction to E is
       <br/>
       different.
       <br/>
       Also can be used as quest spots, better car enter/exit sequences, almost everything.
      </p>
      <p>
       How would you implement this knowing there will be thousands in the area?
       <br/>
       I know it should be possible to do this using “trigger” RigidBodies, but something tells me it will kill
       <br/>
       frame rate to unmanageable levels.
       <br/>
       Also as compromize these spots can be spawned around player, but how to trigger spawn?
       <br/>
       I can record each spot coordinates in K-D tree and spawn ones within 10 unit radius and remove distant ones,
       <br/>
       but how to implement the situation when distant NPC should trigger such spot? Looks like entire map of these should
       <br/>
       be provided somehow…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d81ab4b01198f4f3ee0803a3f9cbc831c733464c3973355b70eb41a74ae4eb29.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      ricab
     </div>
     <div class="post_content">
      <p>
       Most of the rigid bodies will be filtered in the broad phase, so the impact on performance might not be all that big. But if you are concerned you could mock up a scene and measure time consumption. If you find there is a very large impact, I suppose you could subdivide your world and load different scenes as needed.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/28ebc440ecd4098f2a6ad505cdc9ec368de1a0cd2616ecbd951089089330fbd9.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      slapin
     </div>
     <div class="post_content">
      <p>
       well, my world is going to be procedurally generated, so I will need to build influence maps and partitioning,
       <br/>
       so I will auto-spawn spots as needed, thanks.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>