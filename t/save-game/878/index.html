<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Save game
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Save game
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       Hey guys,
      </p>
      <p>
       What would be the recommended way of saving game and game states ?
       <br/>
       In the NinjaSnowWar example .dat file is used.  Have anyone tried json or sqlite ?
       <br/>
       This one seems really neat:
       <a href="http://doc.qt.io/qt-5/qtcore-json-savegame-example.html" rel="nofollow noopener">
        doc.qt.io/qt-5/qtcore-json-savegame-example.html
       </a>
       <br/>
       But it is QT dependant. Do we have something similar in Urho3d ?
      </p>
      <p>
       Thanks in advance,
       <br/>
       Alex
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a9aa60fc39b46d07cb2562f0b11ec4762a64197339da1365b1faaafe4f4b3be8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      thebluefish
     </div>
     <div class="post_content">
      <p>
       Scene::Save and Scene::SaveXML should serialize the entire scene out, which can be loaded by calling Scene::Load or Scene::LoadXML respectively.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98ebdab29deeab97e3366d1e6269f19391d6ffb8173c0e3ecf79076ad092bc78.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GoogleBot42
     </div>
     <div class="post_content">
      <p>
       No only custom .dat and .xml files but because Urho3D has the ability built in to serialize data.  You could look at how the xml and .dat savers work and use that to write your own!  I imagine that json would be pretty easy but sqlite might be somewhat more challeging but it should be doable.  If you get it working you could post the code here and maybe it will be added into the engine!
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       Thanks, I have missed Scene::SaveXML . Is it possible to serialize custom classes and variables, like health, score and game states with it.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       If your custom classes are components and registered with object factories, saving them along with the scene is no problem.
      </p>
      <p>
       Do not attempt to subclass Node, that will not work with scene load/save as loading will always instantiate bare Nodes.
      </p>
      <p>
       For simple custom data like score and health you can use the nodes’ “user variables” system (Node::GetVar, Node::SetVar)
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       Thanks a lot I will try that
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a9aa60fc39b46d07cb2562f0b11ec4762a64197339da1365b1faaafe4f4b3be8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      thebluefish
     </div>
     <div class="post_content">
      <p>
       Note that only attributes are saved. Any local variables in your custom components that isn’t setup with an attribute will not be saved/loaded. Essentially when your component gets loaded, it’s going to use the loaded values for your attribute, and must handle that accordingly. It’s surprisingly easy to stop your component from working right if you don’t set it up properly.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>