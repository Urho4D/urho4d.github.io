<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Automatically registering logic component factories (also making logic components from angelscript)
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Automatically registering logic component factories (also making logic components from angelscript)
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1081ac9e4b604d7b6969620bc43bbaeac598e93eb85782a14cfbad28294eb705.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      throwawayerino
     </div>
     <div class="post_content">
      <p>
       I can make logic components just fine, I’m more annoyed by having to manually register each from the game’s constructor. Also, how can I make and register logic nodes from angelscript for use from other scripts/C++?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/f8c56838151bae9112a91eeb86f55cc4ef2fdee5ef2d25afc934b4d508949063.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Leith
     </div>
     <div class="post_content">
      <p>
       I know having to register custom components is tedious, but it’s just how it is - even the internal Urho components have to provide static registration methods, that are called somewhere before construction of the components in question. I’m not sure what to say, other than hinting that macros can be powerful. As for AngelScript, I’ll bite my tongue, since I have barely touched on it - I don’t use the Scene Editor, and I don’t rely on script. I’d rather write an editor myself, that is specific to my game, for several reasons.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1081ac9e4b604d7b6969620bc43bbaeac598e93eb85782a14cfbad28294eb705.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      throwawayerino
     </div>
     <div class="post_content">
      <p>
       is there anyway to check if a component is already registered?
       <br/>
       Also I’m not talking about making scripts from the editor, but loading them arbitrarily like mods from the data folder. If that’s not possible, then I may add a template component for scripts to add functions to instead
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/f8c56838151bae9112a91eeb86f55cc4ef2fdee5ef2d25afc934b4d508949063.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Leith
     </div>
     <div class="post_content">
      <p>
       Registering a C++ component class is really just about registering its objectfactory method with the urho3d context object.
       <br/>
       I was going to give you a really long answer, but this should do, it’s from the Context class:
      </p>
      <aside class="quote no-group">
       <blockquote>
        <p>
         /// Create an object by type hash. Return pointer to it or null if no factory found.
         <br/>
         SharedPtr CreateObject(StringHash objectType);
        </p>
       </blockquote>
      </aside>
      <p>
       For the scripting side of things, you can simply declare your stuff on the script side, and do all your logic on the script side, and then you don’t need much of the c++ side, other than support for hotloading your script changes
       <img alt=":wink:" class="emoji" src="../../../images/f6b86554472159b74d0ab91b2cb3cd75cf361ccf96a141a4ebd3363c38e7f8eb.png" title=":wink:"/>
      </p>
      <p>
       If you insist on a C++ to Script Interface, see “
       <a href="https://urho3d.github.io/documentation/1.7/_scripting.html" rel="nofollow noopener">
        https://urho3d.github.io/documentation/1.7/_scripting.html
       </a>
       ”
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>