<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Create my own UIElement
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Create my own UIElement
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03a3ca6db750b055256ecc78821972be50a5278b916894b89c3c0ee6c8cbddec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      empirer64
     </div>
     <div class="post_content">
      <p>
       Hello,
       <br/>
       I would like to create my own UIElement inherited from Button, but when I try to do that I can not properly set the Style (XML style). It still remains white. I also tried to copy paste the whole Button code into my class (I just replaced the word Button with name MyElement) but it didnt work. Can someone please help me with this ?
       <img alt=":confused:" class="emoji" src="../../../images/5dc1ca61bbc8cd4bf02bc0d192e798628af5c2b64f08d0179d7a828a9527ec33.png" title=":confused:"/>
      </p>
      <p>
       BTW the code I used for testing MyElement should be correct because when I replace the word MyElement with the word Button, everything works ok.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ac13286af345bef5a8e8da90a88e9fc0e9d6f349d8aa367436e7ffdeeddaeb9e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      weitjong
     </div>
     <div class="post_content">
      <p>
       Most probably that’s because you have not created your own “stylesheet” that defines the auto style of your new UI-element class. Either that or you can just modify the existing “DefaultStyle.xml” stylesheet to define your new UI-element auto style. Alternatively, don’t use SetStyleAuto() or any APIs that rely on it, instead set
       <span class="bbcode-b">
        ALL
       </span>
       the attributes of your new UI-element instance explicitly from scratch. The latter is not recommended if you have many of such instances.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03a3ca6db750b055256ecc78821972be50a5278b916894b89c3c0ee6c8cbddec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      empirer64
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/0cf59ce0315b40e419c5880c4cc7ce42bfee4362fec2d6c44d96ea426f303658.png" width="20"/>
        weitjong:
       </div>
       <blockquote>
        <p>
         Most probably that’s because you have not created your own “stylesheet” that defines the auto style of your new UI-element class. Either that or you can just modify the existing “DefaultStyle.xml” stylesheet to define your new UI-element auto style. Alternatively, don’t use SetStyleAuto() or any APIs that rely on it, instead set
         <span class="bbcode-b">
          ALL
         </span>
         the attributes of your new UI-element instance explicitly from scratch. The latter is not recommended if you have many of such instances.
        </p>
       </blockquote>
      </aside>
      <p>
       I tried it using the first method by adding MyWidget to the DefaultStyle.xml but it does not work. I still get white widget. I also tried assigning working styles to it like widget-&gt;SetStyle(“Button”). I really dont know whats wrong with it.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/bb2140149e795ef872a78e23554bf906a48bc763c7b1c48549811bb6672eaed0.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      devrich
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="empirer64">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/b8a74bdd41b0260972b702bd6b74a48719987a6b67a5ba4931a2b075d632bccc.png" width="20"/>
        empirer64:
       </div>
       <blockquote>
        <p>
         [quote=“weitjong”]Most probably that’s because you have not created your own “stylesheet” that defines the auto style of your new UI-element class. Either that or you can just modify the existing “DefaultStyle.xml” stylesheet to define your new UI-element auto style. Alternatively, don’t use SetStyleAuto() or any APIs that rely on it, instead set
         <span class="bbcode-b">
          ALL
         </span>
         the attributes of your new UI-element instance explicitly from scratch. The latter is not recommended if you have many of such instances.
        </p>
       </blockquote>
      </aside>
      <p>
       I tried it using the first method by adding MyWidget to the DefaultStyle.xml but it does not work. I still get white widget. I also tried assigning working styles to it like widget-&gt;SetStyle(“Button”). I really dont know whats wrong with it.[/quote]
      </p>
      <blockquote>
       <p>
        <span class="bbcode-i">
         I would like to create my own UIElement inherited from Button, but when I try to do that I can not properly set the Style (XML style). It still remains white
        </span>
       </p>
      </blockquote>
      <p>
       (
       <span class="bbcode-u">
        <span class="bbcode-i">
         disclaimer: this is all assumed on my part as I haven’t worked with any uielements so far
        </span>
       </span>
       ) I don’t know if this helps as I haven’t worked with uielements yet but just on initial looking around in the DefaultStyle.xml I noticed two parameters for every  “type” and “style”.  It appears as though “type” is the custom name for your  and can be Any name you want it to be.  Whereas “style” if present represents the “type” of another  that you want ‘your’  to inherit from.  if that  has it’s own “style” parameter then that element will inherit from the other “style” parameter it has and so on…  if there is no “style” parameter then your  will not inherit from any other
      </p>
      <p>
       If that all holds true then I would assume you can fix your  by adding this to it’s  tag
      </p>
      <pre><code class="lang-auto">style="Button"</code></pre>
      <p>
       or
      </p>
      <pre><code class="lang-auto">style="ButtonImage"</code></pre>
      <p>
       or you could just add this to the very begining of your DefaultStyle.xml file:
      </p>
      <p>
       [code]
       <br/>
       <br/>
       <br/>
      </p>
      [/code]
      <p>
       Note that I just copied the attributes from the “Button” attributes like weitjong suggested for your new uielement “empirer64CustomUIelement”.
      </p>
      <p>
       Also note that I typed all that in by hand so hopefully there aren’t any typos
       <img alt=":blush:" class="emoji" src="../../../images/5dc76062acc5a80d95fdd823db908640d52dac05ad1a4899ab9e723bfa0bbbfb.png" title=":blush:"/>
      </p>
      <p>
       Note that if you want to create a new uielement that would inherit from “empirer64CustomUIelement” then you would have that new 's style attribute say:
      </p>
      <pre><code class="lang-auto">style="empirer64CustomUIelement"</code></pre>
      <p>
       to get somehting like this:
      </p>
      <pre><code class="lang-auto">&lt;element type="MyNewUIelement" style="empirer64CustomUIelement"&gt;</code></pre>
      <p>
       <span class="mention">
        @weitjong
       </span>
       ; did I get it right ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ac13286af345bef5a8e8da90a88e9fc0e9d6f349d8aa367436e7ffdeeddaeb9e.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      weitjong
     </div>
     <div class="post_content">
      <p>
       Well, it is hard for me to say whether it is correct or not for the OP because I don’t know the reason why he opts to subclass the Button class in the first place. We don’t need to subclass the UI-Element if all we want is just a different styling. But otherwise, yes, I think you get the general idea.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03a3ca6db750b055256ecc78821972be50a5278b916894b89c3c0ee6c8cbddec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      empirer64
     </div>
     <div class="post_content">
      <p>
       I want to create my own Button because I want to add text there. And yes I tried creating my own style in the defaultStyle.xml, I copied the Button Style and just renamed it to MyWidget, so I have there also the elements from which it should inherit the style. And MyWidget is just copied Button code with changed name from Button to MyWidget.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03a3ca6db750b055256ecc78821972be50a5278b916894b89c3c0ee6c8cbddec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      empirer64
     </div>
     <div class="post_content">
      <p>
       Finaly I found out that it didnt work for me because I haven’t Registered my new UIElement
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
       . Thank you guys for your help.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Using hierarchical composition would also be possible and actually used all over the Editor and other examples, ie. you create a Button and add a Text as a child element. When the child element has SetEnabled(false) (this is default for Text) it won’t interfere with button press input.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>