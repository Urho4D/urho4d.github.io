<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Problems about some mechanisms in a shooter game
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Problems about some mechanisms in a shooter game
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       Im thinking about making a shooter game with Urho3D (as a hobbyist), by so far I have encountered several problems, like:
      </p>
      <ol>
       <li>
        how to do scopes zooming effect
       </li>
       <li>
        how to do voice chat with this engine (i want voice to be played as 3D sounds)
       </li>
       <li>
        how to simulate the bullets, including the dropping and piercing stuffs
       </li>
      </ol>
      <p>
       weeks gone by and i still have no idea about them, help me!
       <br/>
       thanks in advanced.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <blockquote>
       <p>
        how to do scopes zooming effect
       </p>
      </blockquote>
      <ul>
       <li>
        what do you mean?
       </li>
      </ul>
      <blockquote>
       <p>
        how to do voice chat with this engine (i want voice to be played as 3D sounds)
       </p>
      </blockquote>
      <ul>
       <li>
        I don’t know
       </li>
      </ul>
      <blockquote>
       <p>
        how to simulate the bullets, including the dropping and piercing stuffs
       </p>
      </blockquote>
      <ul>
       <li>
        using this:
       </li>
      </ul>
      <p>
       <a class="onebox" href="https://discourse.urho3d.io/t/spark-particle-engine-renderer/3670" target="_blank">
        https://discourse.urho3d.io/t/spark-particle-engine-renderer/3670
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       by 1. i meant the display of scaled scene, dont know how to call it, so, “zooming” &lt;3
      </p>
      <p>
       and 3. hows a particle engine gonna do with bullet simulation…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/a90ddfa002995c31b5c93aca4213c480a31c7272db11e21266b71156c46856c7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Eugene
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-post="1" data-topic="4036" data-username="Virgo">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/f37da1ab8f4e307f4bad9868008883670b4ea5b0895f71875b8a5929342a4cb7.png" width="20"/>
        Virgo:
       </div>
       <blockquote>
        <p>
         how to do scopes zooming effect
        </p>
       </blockquote>
      </aside>
      <p>
       Just camera zoom. If you want part-screen scopes like Escape from Tarkov, it’d requre more complicated solutions.
      </p>
      <aside class="quote no-group" data-post="1" data-topic="4036" data-username="Virgo">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/f37da1ab8f4e307f4bad9868008883670b4ea5b0895f71875b8a5929342a4cb7.png" width="20"/>
        Virgo:
       </div>
       <blockquote>
        <p>
         how to simulate the bullets, including the dropping and piercing stuffs
        </p>
       </blockquote>
      </aside>
      <p>
       Custom bullet tracing isn’t so hard.
      </p>
      <aside class="onebox githubfolder" data-onebox-src="https://github.com/eugeneko/Urho3D-Sandbox-Dirty/tree/networking-prototype/Source/FlexEngine/Physics">
       <header class="source">
        <img class="site-icon" height="32" src="../../../images/6a9577cd4f7fa6b75bde1025af85b944e9dd1388373b55ccba6e9f80ac2eae60.svg" width="32"/>
        <a href="https://github.com/eugeneko/Urho3D-Sandbox-Dirty/tree/networking-prototype/Source/FlexEngine/Physics" rel="noopener nofollow ugc" target="_blank">
         github.com
        </a>
       </header>
       <article class="onebox-body">
        <h3>
         <a href="https://github.com/eugeneko/Urho3D-Sandbox-Dirty/tree/networking-prototype/Source/FlexEngine/Physics" rel="noopener nofollow ugc" target="_blank">
          Urho3D-Sandbox-Dirty/Source/FlexEngine/Physics at networking-prototype ·...
         </a>
        </h3>
        <p>
         <a href="https://github.com/eugeneko/Urho3D-Sandbox-Dirty/tree/networking-prototype/Source/FlexEngine/Physics" rel="noopener nofollow ugc" target="_blank">
          networking-prototype/Source/FlexEngine/Physics
         </a>
        </p>
        <p>
         <span class="label1">
          [Dirty] Non-organized storage of Urho3D-related stuff - Urho3D-Sandbox-Dirty/Source/FlexEngine/Physics at networking-prototype · eugeneko/Urho3D-Sandbox-Dirty
         </span>
        </p>
       </article>
       <div class="onebox-metadata">
       </div>
       <div style="clear: both">
       </div>
      </aside>
      <aside class="quote no-group" data-post="1" data-topic="4036" data-username="Virgo">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/f37da1ab8f4e307f4bad9868008883670b4ea5b0895f71875b8a5929342a4cb7.png" width="20"/>
        Virgo:
       </div>
       <blockquote>
        <p>
         how to do voice chat with this engine (i want voice to be played as 3D sounds)
        </p>
       </blockquote>
      </aside>
      <p>
       IDK. I’m not an expert in sound networking. Urho support custom network messages.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       okay, im so stupid and careless, didnt even find the zooming attribute in Camera class.
       <br/>
       im checking out your bullet system later, thx &lt;3
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <ol>
       <li>
        <p>
         You can manipulate Field of View (FOV) to achieve zooming effect.
         <br/>
         EDIT: camera zoom is should be better.
        </p>
       </li>
       <li>
        <p>
         You’ll need to capture and stream the player’s mic input to others, and play it as a 3D sound source.
         <br/>
         AFAIK Opus is the highest quality codec available and it’s FOSS:
         <br/>
         <a href="http://opus-codec.org/" rel="nofollow noopener">
          http://opus-codec.org/
         </a>
         <br/>
         I know Discord uses it.
        </p>
       </li>
      </ol>
      <p>
       Maybe you can find open source library for voice chat. RakNet lists voice communication in its features, tho it uses an outdated codec.
      </p>
      <ol start="3">
       <li>
        You’ll need implement it yourself.
        <br/>
        Using the physics engine would probably be expensive and won’t solve penetration.
        <br/>
        You can come up with penetration calculations using raycasts, so you might as well implement the bullets as raycast steps, which it quite simple (just velocity, gravity, and maybe air resistance).
       </li>
      </ol>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       okay, seems i got tons of stuffs to study here
       <br/>
       i wonder if there is any example of recording with opus from mic input, i cant find one
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1942bc04975c75156629598f61ba11bcc001f312ff469070f61448e051f874dd.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Lumak
     </div>
     <div class="post_content">
      <p>
       If you’ve never created a shooter game before, this might be a good reference -
       <a href="https://discourse.urho3d.io/t/codename-outbreak-remake-sources/876">
        Codename: Outbreak remake (+sources)
       </a>
       <br/>
       I learned a lot from that resource.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d810aa1dd979a5c8db3b6d0294588b69a8215f93e681cdc858fbdc963aedce1f.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      smellymumbler
     </div>
     <div class="post_content">
      <p>
       Why would you want to reinvent VOIP when you have open-source and battle-tested like
       <a href="https://github.com/mumble-voip/mumble" rel="nofollow noopener">
        https://github.com/mumble-voip/mumble
       </a>
       ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       I want to play them as 3d sounds
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d810aa1dd979a5c8db3b6d0294588b69a8215f93e681cdc858fbdc963aedce1f.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      smellymumbler
     </div>
     <div class="post_content">
      <p>
       You mean positional audio? You can do that with Mumble:
       <a href="https://wiki.mumble.info/wiki/Link" rel="nofollow noopener">
        https://wiki.mumble.info/wiki/Link
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       okay okay, honestly i just dont want mumble, as i remember, mumble runs as a background program, this sucks.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d126304f5103b2d7cee2c6e244e6a162b45a28fcb40bfc5dd544e0bbf8b220ea.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Sinoid
     </div>
     <div class="post_content">
      <aside class="quote" data-post="1" data-topic="4036">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/9ad57b0737cb5c9ff09279654564b97d3b5ccf96d19e351b65a2baf72eb3abcf.png" width="20"/>
        Virgo:
       </div>
       <blockquote>
        <ol start="3">
         <li>
          how to simulate the bullets, including the dropping and piercing stuffs
         </li>
        </ol>
       </blockquote>
      </aside>
      <p>
       Triangle mesh colliders are hollow, so for those you can just advance the origin of the ray to the backside of the hit point and repeat the trace (+epsilon). The 2nd hit will be a backface where you can check if you want to continue through (ie. surface too deep) or not - a 3rd ray cast is the exiting ray.
      </p>
      <p>
       Other rigid bodies lack that (unless an AABB is good enough) and bullet doesn’t expose the underlying shapes well enough - though you could use MathGeoLib to mirror the shape and use its’ ExtremePoint functions to find the opposite side of an object (or just port them over), doing the same thing in 2 ray casts instead of 3.
      </p>
      <p>
       There’s the
       <a href="https://github.com/grimwm/libballistics" rel="nofollow noopener">
        GNU Ballistics
       </a>
       library … which is probably far beyond what you’re after.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       okay, checked out the example, but just cant understand
       <img alt=":frowning:" class="emoji" src="../../../images/f52368fabff51bf20b9b2a7726cfecb3ca01ecdec8d99f872cca862812b131a7.png" title=":frowning:"/>
       too much math, i cant do that
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/d810aa1dd979a5c8db3b6d0294588b69a8215f93e681cdc858fbdc963aedce1f.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      smellymumbler
     </div>
     <div class="post_content">
      <p>
       3D game development is pure math. I know, it’s hard, but you definitely want to read something like this:
      </p>
      <aside class="onebox amazon">
       <header class="source">
        <a href="https://www.amazon.com/Foundations-Game-Engine-Development-Mathematics/dp/0985811749/ref=pd_cp_14_2" rel="nofollow noopener" target="_blank">
         amazon.com
        </a>
       </header>
       <article class="onebox-body">
        <h3>
         <a href="https://www.amazon.com/Foundations-Game-Engine-Development-Mathematics/dp/0985811749/ref=pd_cp_14_2" rel="nofollow noopener" target="_blank">
          Foundations of Game Engine Development, Volume 1: Mathematics
         </a>
        </h3>
        <b>
         Eric Lengyel
        </b>
        <p>
         The first volume of Foundations of Game Engine Development discusses the mathematics needed by engineers who work on games or other types of virtual simulations. The book begins with conventional trea ...
        </p>
        <p>
         4.7 out of 5 stars, 
  ISBN: 978-0985811747, 
  Terathon Software LLC, 
  September 11, 2016
         <strong>
         </strong>
        </p>
       </article>
       <div class="onebox-metadata">
       </div>
       <div style="clear: both">
       </div>
      </aside>
      <p>
       If you want to achieve something. Otherwise you’ll just be banging rocks together.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/65f09c7224ca68a4d16618500cded4d288c4f6d5f84eb5eaff93394c1608f946.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      johnnycable
     </div>
     <div class="post_content">
      <p>
       You may be better suited with something like
       <a href="https://www.amazon.com/Artificial-Intelligence-Games-Ian-Millington/dp/0123747317" rel="nofollow noopener">
        this
       </a>
       :
      </p>
      <p>
       <img alt="15" height="499" src="../../../images/73316ed0eda076b5ebb5d061d9288c04c372fbcd7b4928f0ecfc10611d24b2da.png" width="402"/>
      </p>
      <p>
       this has the logic in pseudo code form and the base math without getting too much complicated. Relevant to your question:
      </p>
      <p>
       <img alt="00" height="240" src="../../../images/df27d55072de5821cf6d567e37c75223aeb8e50cba41cdcdd84fc20133d94c2b.png" width="576"/>
      </p>
      <p>
       The everything-base math:
      </p>
      <p>
       <img alt="39" height="288" src="../../../images/d6adbdd52de6e09aab526daa5a4ae42ed773f01f1c070348312bd5624024b54c.png" width="690"/>
      </p>
      <p>
       that’s for, you know, jumping, so it’s really the base…
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/80bde861c77550d90483f49160c7430615be130b45f85f9e97f624fa530c4d32.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Virgo
     </div>
     <div class="post_content">
      <p>
       Thank you guys, i think i got the ideas (except the VoIP one though), gotta go study the basics.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>