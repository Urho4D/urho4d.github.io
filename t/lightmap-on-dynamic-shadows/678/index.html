<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Lightmap on Dynamic Shadows
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Lightmap on Dynamic Shadows
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <p>
       So… has anyone ever tried lightmap texture blending on dynamic shadows?
      </p>
      <p>
       I would like to provide and submit a sample demo in Urho, but I really don’t know where to start if it involves shaders.
      </p>
      <p>
       Thanks.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       Have you tested to see if the effect works? Just looking at the shaders, I believe lightmap and dynamic shadows should work together (maybe that’s not what you mean?). The lightmap UV’s are stored in a second uv set.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ad9bc7eb192b88d1c364c9b8fb8f80cf85ee14d41f54e1ae6101313dd36e4cba.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      friesencr
     </div>
     <div class="post_content">
      <p>
       try {
       <br/>
       my memory is way foggy but i think the lightmap doesn’t mix light but the ao does mix.    however the ao is using the wrong uv set so you want the behavior of ao with the uv set of lightmap. are you talking about mixing light?
       <br/>
       }
       <br/>
       catch {
       <br/>
       ignore_chrisman_\m/();
       <br/>
       }
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <p>
       Thanks guys. I’m referring to seamless shadows in lightmaps and dynamic shadows like this in Unreal 4…
      </p>
      <p>
       <a href="https://answers.unrealengine.com/questions/48053/unreal-engine-udk-shadow-blending-method.html" rel="nofollow noopener">
        answers.unrealengine.com/questi … ethod.html
       </a>
      </p>
      <aside class="quote">
       <blockquote>
        <p>
         ignore_chrisman_\m/();
        </p>
       </blockquote>
      </aside>
      <p>
       Lol. hey Chris, all ideas are welcome of course.
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0f624c0c48d74abcebac3b8d07fd2ceca42ee483e86de7c69e7e92dc5a1d0980.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      ucupumar
     </div>
     <div class="post_content">
      <p>
       I have actually kind of do this, but not that quite exactly like what you want.
       <br/>
       My implementation is lightmap only store indirect light, so direct light still using dynamic lamp. Because of this, dynamic and static object will had same shadow buffer and it will blend perfectly.
       <br/>
       And I do think this technique is used on Last of Us too. Look at this screenshot for example.
       <br/>
       <img alt="" height="" src="missing_image.png?original=http%3A//i.minus.com/iboYPAs5J258mU.jpg" width=""/>
       <br/>
       If you look at bottom of window shadow, it’s really jagged and I suspect this isn’t produced from a lightmap.
       <br/>
       But there’s indirect light on top of the picture that kind of produced from a lightmap.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/5775ca4ae33489a2bcc299dd30363673c37d994ec83cfc8b666b914026ff2719.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      rasteron
     </div>
     <div class="post_content">
      <p>
       Thanks ucupumar. Do you have a shader code sample to accomplish this? I was hoping for maintaining the quality of the lightmap rather than altering it but any demo is worth a try
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <p>
       cheers.
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>