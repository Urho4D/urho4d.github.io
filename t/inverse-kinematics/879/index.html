<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   Inverse Kinematics
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    Inverse Kinematics
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/8b8883a447bcbb1d36874a9fc90803f0fdb5fe8513f3c24c96e383de1835f2ec.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      setzer22
     </div>
     <div class="post_content">
      <p>
       Inverse Kinematics is a feature I would like to be added to Urho.
      </p>
      <p>
       I’m actually thinking of implementing this myself after finding no good open source libraries (with compatible licenses) that fullfill this task. I’ve been reading some papers on the subject, but it seems I’ll need some time and practise to really understand this.
      </p>
      <p>
       In the meantime I’ll make this post to see how many people is interested in this, and also if there’s someone more capable than me also willing to implement the feature.
      </p>
      <p>
       Cheers
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/7f16d2ff0d27ff8e240b37b3bf60e2c661b5eb8800a5a99829abc8fc983cac04.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      franck22000
     </div>
     <div class="post_content">
      <p>
       Definitely interested by this also. I might try to add it in the future but i think i have no more knowledge than you on the subject
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       There are available open source solutions.
       <br/>
       Check
       <a href="http://www.ogre3d.org/forums/viewtopic.php?f=5&amp;t=47172" rel="nofollow noopener">
        ogre3d.org/forums/viewtopic.php?f=5&amp;t=47172
       </a>
       for OpenTissue
       <br/>
       And also there is SmarBody which is quite complex but the IK can be extracted easily:
       <a href="http://smartbody.ict.usc.edu/" rel="nofollow noopener">
        smartbody.ict.usc.edu/
       </a>
       <br/>
       There is also a simple IK solver provided with Maya in the OpenMaya library .
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/999065d0609f591a82c8a3f4f534d814fd1605f4d7ed98ff3bc0d9aed9d27d87.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      codingmonkey
     </div>
     <div class="post_content">
      <p>
       I used to think about it. But without the use of any third-party libraries
       <br/>
       For example: how to make a character (if it is close enough to the door) could take the door handle and open it.
       <br/>
       door handle has a dummy-target for the skeleton.
       <br/>
       If the character be close enough to handle of door, then all the arm bone (which arm will open the door) are switched to the Ragdoll-chain.
       <br/>
       And this ragdoll-chain of bones must have two binding. ?ne binding to the shoulder of the character, and the second to bind to the palm of the hand of the character.
       <br/>
       In the script, we can move the bone of palm and all ragdoll-chani (arm) should move (on the idea) behind it.
       <br/>
       I think for this tech we should also use the blending of bone positions, between animated skeleton and switched ragdoll-parts of it.
       <br/>
       At last may be we should use fully copied separated ragdoll-skeleton in same place with animated skeleton, and do this blending.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       Smartbody already does this.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/999065d0609f591a82c8a3f4f534d814fd1605f4d7ed98ff3bc0d9aed9d27d87.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      codingmonkey
     </div>
     <div class="post_content">
      <p>
       looking at this example.
       <br/>
       especially at refinement part.
      </p>
      <p>
       He say’s what there is no needed any of the library for this - this is simple trigonometry
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
      <p>
       <a href="http://www.gdcvault.com/play/1020583/Animation-Bootcamp-An-Indie-Approach">
        gdcvault.com/play/1020583/An … e-Approach
       </a>
      </p>
      <blockquote>
       <p>
        Smartbody already does this.
        <br/>
        I do not have anything against of this. But I think it’s a big library-monster )
       </p>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/03bd1f8a3e6efbea4fb5c7378bff890a9215df01e5f8713dddfe305ebe3c252c.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      hdunderscore
     </div>
     <div class="post_content">
      <p>
       [quote=“codingmonkey”]looking at this example.
       <br/>
       especially at refinement part.
       <br/>
       [/quote]
       <br/>
       Very interesting video, makes me want to go and try some of those things.
      </p>
      <p>
       Smart body uses LGPL license, which is of course fine for personal projects but I’m not sure we’d want that in Urho master. OpenTissue has a more agreeable zlib license + is header only so it’s probably not too difficult to whip up a test case (eg, on character demo) and see how it works out. I’d be interested to see the results if you do that
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       If you want full IK like HumanIK in Maya it is not simple
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e484e760615ae1055c98a33975f0abfde7a99cbe48f85a088138e5ac5daabc8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Mike
     </div>
     <div class="post_content">
      <p>
       I’ve ported Ogre+OpenTissue sample to Urho. I’ve done some quick tests in T-pose and A-pose and it seems to be promising.
       <br/>
       <img alt="" height="391" src="../../../images/97289a9e2bd22111e88889904d5d22d89639a87665ab1487b4baade94817a71c.png" width="331"/>
       <br/>
       I’ll investigate more real-life experiments to determine if it’s worthy of going further with this library.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Cool! It seems that OpenTissue depends on Boost, which makes integration into Urho somewhat a negative, at least in the way we usually integrate dependencies, unless the needed portion of Boost can be “faked” like Assimp does. But sharing the code as an external add-on people can experiment with and integrate on their own, could still be valuable.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98ebdab29deeab97e3366d1e6269f19391d6ffb8173c0e3ecf79076ad092bc78.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GoogleBot42
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/ca279ebb6e6913836d33ed2ab6856e015c310c0ee4589ca403b0e7e5a2b3f50f.png" width="20"/>
        cadaver:
       </div>
       <blockquote>
        <p>
         Cool! It seems that OpenTissue depends on Boost, which makes integration into Urho somewhat a negative, at least in the way we usually integrate dependencies, unless the needed portion of Boost can be “faked” like Assimp does. But sharing the code as an external add-on people can experiment with and integrate on their own, could still be valuable.
        </p>
       </blockquote>
      </aside>
      <p>
       That is too bad… I don’t really like boost very much.  If the bindings could be faked that would be awesome!  But it does look promising so at the very least it should be an external Urho3D library so that others can use it if they are ok with including boost.
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       This one is a lot simpler no dependencies. And very easy to port.
       <br/>
       It is shipped with maya and it is part of completely free open maya framework for real-time applications.
      </p>
      <p>
       <a href="https://code.google.com/p/gamekit/source/browse/branches/character-system/Loader/ik2Bsolver/?r=173" rel="nofollow noopener">
        code.google.com/p/gamekit/sourc … ver/?r=173
       </a>
      </p>
      <p>
       And here is a guide on what it actually does.
      </p>
      <p>
       <a href="http://download.autodesk.com/global/docs/maya2014/en_us/index.html?url=files/CSS_IK_solvers.htm,topicNumber=d30e300476" rel="nofollow noopener">
        download.autodesk.com/global/doc … d30e300476
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e484e760615ae1055c98a33975f0abfde7a99cbe48f85a088138e5ac5daabc8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Mike
     </div>
     <div class="post_content">
      <p>
       For Boost I simply extracted header files in OpenTissue folder, no bindings, no built library. Other dependencies like Atlas, GLUT… are not necessary and IK is only a small fraction of the library so we can later trim the fat.
       <br/>
       I’m currently digging in the API to set the axes and limits, this part is not well documented.
      </p>
      <p>
       <span class="mention">
        @sabotage3d
       </span>
       , thanks for the links, a 2 bones chain can be a good alternative to a full chain that is not always necessary. I’ll try to integrate it today.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Mike: that sounds good; no need to add (cross-platform) Boost library build mechanism then.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/9e484e760615ae1055c98a33975f0abfde7a99cbe48f85a088138e5ac5daabc8.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Mike
     </div>
     <div class="post_content">
      <p>
       Maya ik2Bsolver also works great, is lightweight and easier to setup as it’s only a 2D IK solver applied on pairs of bones.
       <br/>
       Both libraries have their strengths and weaknesses and for now it’s good to have both.
      </p>
      <p>
       In both cases, I think I’ll get rid of setting constraints/limits by simply clamping the rotations given by the solver.
      </p>
      <p>
       Maybe I’ll also give a look at this library released under BSD (which is unfortunately not documented at all and code is sparsely commented):
       <a href="http://www.quelsolaar.com/confuse/index.html">
        quelsolaar.com/confuse/index.html
       </a>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/684585e23c00534a4d0cb1c1bc542909f34fad260b0ad446b3e3b5a99d7771d5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      sabotage3d
     </div>
     <div class="post_content">
      <p>
       I stuck upon this library as well it is mainly for robotics but it looks interesting. It is based on Jacobian inverse which is good in some cases.
      </p>
      <p>
       <a href="https://github.com/kouretes/NAOKinematics" rel="nofollow noopener">
        github.com/kouretes/NAOKinematics
       </a>
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>