<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   BSP-like level editing?
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    BSP-like level editing?
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0b8187ad54aa4a860b8ea84231e40b23b2697672982127f576195e204c85cf8d.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      darkhog
     </div>
     <div class="post_content">
      <p>
       Could this be added? It would greatly speed up making levels as you won’t have to fiddle with external 3D software to make level mesh and UV map it manually. Possibly from editing standpoint, something like Trenchbroom editor for Quake (very intuitive, unlike various Radiant clones).
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98ebdab29deeab97e3366d1e6269f19391d6ffb8173c0e3ecf79076ad092bc78.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GoogleBot42
     </div>
     <div class="post_content">
      <p>
       Sounds like it would be a lot of work to recreate one of these from scratch… maybe an existing one can be modified to export to xml?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/77530a788022f8c0d8a611b333c2222aba59cac0fb26c85edc707ba056e09e64.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      JamesK89
     </div>
     <div class="post_content">
      <p>
       If you’re looking for something like Hammer Editor for building your worlds I would suggest taking a look at the open source tools;
       <a data-bbcode="true" href="http://sledge-editor.com/" rel="nofollow noopener">
        Sledge Editor
       </a>
       ,
       <a data-bbcode="true" href="http://www.delgine.com/" rel="nofollow noopener">
        DeleD
       </a>
       or
       <a data-bbcode="true" href="http://runtimelegend.com/rep/rtworld/index" rel="nofollow noopener">
        Runtime World
       </a>
       .
      </p>
      <p>
       However it is worth mentioning that I found
       <a data-bbcode="true" href="http://www.blender.org/" rel="nofollow noopener">
        Blender
       </a>
       much easier to use than ever before so you might consider forcing yourself to learn to use Blender by building some basic models. Within a few days I figured out enough to make a basic level and I felt much more capable than being stuck with a CSG based editor.
      </p>
      <p>
       Of course if you use these tools it will be up to your to figure out how to integrate it into an Urho3D project but if you come up with anything please do share or explain how you got an art pipeline up and working!
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/15ec239d285c7ed0e587423843143e7382a3233e3f46ccb5ef7fb0e41eadd119.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Nerrik
     </div>
     <div class="post_content">
      <p>
       If you have 3DS Max, you can use the Hammer Editor by importing the maps with the “Wallworm” plugin. (Its a little bit work to set up a development environment but it works fine)
       <br/>
       export it to 3ds or ase and import it as scene with assetimporter “-nf”
      </p>
      <p>
       Some Screens:
      </p>
      <p>
       Imported cs:go HG_sunset map (with some deleted models and other ground texture)
      </p>
      <p>
       <a data-bbcode="true" href="http://postimg.org/image/oz3c0nxqf/" rel="nofollow noopener">
        <img alt="" height="" src="missing_image.png?original=http%3A//s23.postimg.org/oz3c0nxqf/hammer1.jpg" width=""/>
       </a>
      </p>
      <p>
       <a data-bbcode="true" href="http://postimg.org/image/cjpop4eud/" rel="nofollow noopener">
        <img alt="" height="" src="missing_image.png?original=http%3A//s18.postimg.org/cjpop4eud/hammer3.jpg" width=""/>
       </a>
      </p>
      <p>
       Imported de_cblle map (untextured, uncleaned and without models only a test)
      </p>
      <p>
       <a data-bbcode="true" href="http://postimg.org/image/srv4b4vu5/" rel="nofollow noopener">
        <img alt="" height="" src="missing_image.png?original=http%3A//s14.postimg.org/srv4b4vu5/hammer2.jpg" width=""/>
       </a>
      </p>
      <p>
       *i only imported this maps for learning purposes
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/77530a788022f8c0d8a611b333c2222aba59cac0fb26c85edc707ba056e09e64.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      JamesK89
     </div>
     <div class="post_content">
      <aside class="quote no-group" data-username="Nerrik">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/003ae1142dda2c7130eadf86e97291a45d4fc6d2210d560d9ed43c19cca0eb4d.png" width="20"/>
        Nerrik:
       </div>
       <blockquote>
        <p>
         If you have 3DS Max, you can use the Hammer Editor …
        </p>
       </blockquote>
      </aside>
      <p>
       A word of warning: Valve’s end user license agreement for Hammer Editor prevents you from using it for anything but Goldsrc and Source engine games which is why I recommended Sledge Editor as an alternative since it is an open source clone of Hammer Editor.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/0b8187ad54aa4a860b8ea84231e40b23b2697672982127f576195e204c85cf8d.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      darkhog
     </div>
     <div class="post_content">
      <p>
       Except Hammer is so close to radiant (basically editing 3D world in 2D, WTF?), it’s not even funny.
      </p>
      <p>
       Something like Trenchbroom:
       <a href="https://www.youtube.com/watch?v=F-1pM55k4WM" rel="nofollow noopener">
        youtube.com/watch?v=F-1pM55k4WM
       </a>
       would be more appropriate. Also no, I don’t have 3ds max, because I don’t feel like wasting $5000
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98ebdab29deeab97e3366d1e6269f19391d6ffb8173c0e3ecf79076ad092bc78.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GoogleBot42
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        Sinoid:
       </div>
       <blockquote>
        <p>
         So why don’t you fork Trenchbroom and add export straight to Urho?
        </p>
       </blockquote>
      </aside>
      <p>
       Just what I was thinking.  I have no need for this at all so I won’t make a port.
      </p>
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        Sinoid:
       </div>
       <blockquote>
        <p>
         Autodesk throws discounts around like candy.
        </p>
       </blockquote>
      </aside>
      <p>
       Lol.
       <img alt=":laughing:" class="emoji" src="../../../images/a3f9c0d9c41d961ddc96e236bc4a514a0edada8ce56cd0128d33952054cdc236.png" title=":laughing:"/>
       If you are a student you can even get it for free (but not for commercial applications of course).
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/668470d56163353e1e4d4d67dadbcf02db3f7389e58e6e01b1650a16815e3949.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      Enhex
     </div>
     <div class="post_content">
      <p>
       I also wanted a BSP-like level editor and I made a generic one (that can be used with any game for any game engine).
       <br/>
       It’s still early in development but the basic features already exist.
      </p>
      <p>
       Here’s the last, outdated, video I uploaded of it:
       <br/>
       [video]
       <a href="http://www.youtube.com/watch?v=zbjwM6aztzc%5B/video%5D" rel="noopener nofollow ugc">
        http://www.youtube.com/watch?v=zbjwM6aztzc[/video]
       </a>
      </p>
      <p>
       Back then I didn’t use Urho yet, tho when I switched to urho it took few hours to make level loading code.
      </p>
      <p>
       Right now it export levels as JSON (so you can pick up a lib and parse it with any language).
      </p>
      <aside class="quote no-group" data-username="darkhog">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/ba92fba15a65c5705ee36608f8c1c27ee26ae2019979acf5c5b35ac53dcf75a3.png" width="20"/>
        darkhog:
       </div>
       <blockquote>
        <p>
         Except Hammer is so close to radiant (basically editing 3D world in 2D, WTF?), it’s not even funny.
        </p>
       </blockquote>
      </aside>
      <p>
       Your screen is 2D.
       <br/>
       Having 2D grids give you more precision and speed. You don’t have to move a camera around to access stuff.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/ad9bc7eb192b88d1c364c9b8fb8f80cf85ee14d41f54e1ae6101313dd36e4cba.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      friesencr
     </div>
     <div class="post_content">
      <p>
       I am going to be trying to do a glsl shader soon that does texture atlas w/ wrapping.  Hopefully it goes well.  I wrote the sprite packer, its urhos sprite packer so we can make it do whatever crap we want.  If you need any features in it let me know.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/98ebdab29deeab97e3366d1e6269f19391d6ffb8173c0e3ecf79076ad092bc78.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      GoogleBot42
     </div>
     <div class="post_content">
      <aside class="quote">
       <div class="title">
        <div class="quote-controls">
        </div>
        <img alt="" class="avatar" height="20" src="../../../images/a27c760b0f0e4cc7cfef9678119aba515d73b166b14480ad72604173ec6142a1.png" width="20"/>
        friesencr:
       </div>
       <blockquote>
        <p>
         I am going to be trying to do a glsl shader soon that does texture atlas w/ wrapping.  Hopefully it goes well.  I wrote the sprite packer, its urhos sprite packer so we can make it do whatever crap we want.  If you need any features in it let me know.
        </p>
       </blockquote>
      </aside>
      <p>
       +1 That would be awesome!  I hope you can get it to work.
       <img alt=":smiley:" class="emoji" src="../../../images/771063f3b2b4950334f4d187069c87041036842149b3e4268221db325b6bde0e.png" title=":smiley:"/>
       I don’t have any experience with shaders so I don’t know how to do it.
       <img alt=":blush:" class="emoji" src="../../../images/5dc76062acc5a80d95fdd823db908640d52dac05ad1a4899ab9e723bfa0bbbfb.png" title=":blush:"/>
      </p>
      <p>
       <span class="mention">
        @Siniod
       </span>
       It is looking great so far!  I can’t wait to see you next milestone.
       <img alt=":wink:" class="emoji" src="../../../images/f6b86554472159b74d0ab91b2cb3cd75cf361ccf96a141a4ebd3363c38e7f8eb.png" title=":wink:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1e0a99538f39dc80899aa462bf01fe5512740ad644d09d7f5b176cb87543a642.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      gabdab
     </div>
     <div class="post_content">
      <p>
       …I might have missed reading some posts , but
       <br/>
       How do you handle the occlusion culling proper of .bsp maps ?
       <br/>
       Doesn’t assimp come with a .bsp converter ?
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/6f717edbbb6794a81024a65a0b329f4d47f598f032ada0b9ad3e06d3c5e8ecc7.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      boberfly
     </div>
     <div class="post_content">
      <p>
       I don’t think you’d use the BSP occlusion data. Urho will just do frustum cull &amp; octree lookup and the software occlusion query if that’s enabled. So yeah best to split the model up based on material first, and have some thing which splits them every n units in space, but yeah it depends on the vertex density of these bits, if it’s all super simple geo (under 1024 verts or so) it’s best to just have it all in one mesh, although splitting it might have the benefit of a smaller, more beneficial software occluder…
      </p>
      <p>
       If you really want the BSP occlusion data you’d need to implement your own…
       <img alt=":slight_smile:" class="emoji" src="../../../images/8a8941f0486df9dda1e89ec988e1591cf959e1ea7809a249dc2decb694b30a6c.png" title=":slight_smile:"/>
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1e0a99538f39dc80899aa462bf01fe5512740ad644d09d7f5b176cb87543a642.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      gabdab
     </div>
     <div class="post_content">
      <p>
       I need to get accustomed to Urho3D software occluder .
       <br/>
       I didn’t get how it handles  occluded occluder in the same mesh …
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Yeah, so instead for example a building being one big mesh you could have each wall + the roof (or any other repeating part) being a separate mesh, this already allows the frustum culling to work better even before getting into occlusion. Then enable occluder in those objects that you figure that would be good occluders (simple and large.)
      </p>
      <p>
       Note that the software occlusion system was developed on desktop machines, I won’t make promises on how well it runs on mobile hardware.
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/1e0a99538f39dc80899aa462bf01fe5512740ad644d09d7f5b176cb87543a642.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      gabdab
     </div>
     <div class="post_content">
      <p>
       Where is the software occluder located in code ?
       <br/>
       Id bsp is precalculated based on walkable spaces … you can mimic it while designing your levels sort of by defining closed areas and setting up a bounding box .
       <br/>
       When player collides with a bounding box all the pertaining nodes are activated .
      </p>
     </div>
    </div>
   </div>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/035f283cae2d056de202879867b5272fcc6bf7558625c1c9ffb77812527e2fac.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      cadaver
     </div>
     <div class="post_content">
      <p>
       Graphics/OcclusionBuffer.cpp, which is used by Graphics/View.cpp
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>