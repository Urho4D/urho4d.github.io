<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width" name="viewport"/>
  <title>
   [SOLVED] Mix orthographic and perspective cameras
  </title>
  <link href="../../../archived.css" rel="stylesheet"/>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']]}});
  </script>
  <script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
  </script>
 </head>
 <body>
  <header class="header">
   <div class="title-span">
    <a href="../../../">
     <img alt="Urho3D" height="40" id="site-logo" src="../../../images/site-logo.png"/>
    </a>
   </div>
  </header>
  <div class="main">
   <div class="archive-span">
    Archive 19/01/2023.
   </div>
   <h1 class="topic-title">
    [SOLVED] Mix orthographic and perspective cameras
   </h1>
   <div class="post_container">
    <div class="avatar_container">
     <img class="avatar" src="../../../images/51810af7403161e3251bfbf39cab872cb0c64315bb17233d820d0f6c26522dc5.png"/>
    </div>
    <div class="post">
     <div class="user_name">
      mightymarcus
     </div>
     <div class="post_content">
      <p>
       I’m playing with the engine to get more into it, and I wanted to start with something really simple (hehe), a 3D background scrolling vertically with a top down camera and a 3D Object flying over the background like in a vertical scrolling shooter. Now it doesn’t fit well in the concept of a vertical scroller (and looks horrible) when the 3D Object is rendered in 3D perspective, so I want the 3D Object to be rendered with an orthographic view (or as would the camera always be on top of the ship but then I would need a camera for each enemy, projectile etc. too i guess).
      </p>
      <p>
       So I came up with the idea to mix orthographic with perspective view. The orthographic camera should only view the game objects like ships, rockets, power ups maybe off the screen and should render it then on the screen where the game objects should be. Maybe to a render target texture that makes up the screen (a transparent texture).
      </p>
      <p>
       Now I really don’t know how to start. Would be nice if someone could point me in the right direction.
      </p>
      <p>
       UPDATE:
      </p>
      <p>
       Another idea is to have both cameras on the same positions, one excludes the game objects and the other excludes the background. They have both the same viewport, the viewport that gets the game objects should be transparent. Is this possible?
      </p>
      <p>
       UPDATE:
      </p>
      <p>
       Now I tried with viewmask settings and RenderPathCommand, and after all I managed to have the orthographic camera output in front of the perspective camera. Only thing is: the objects are on the wrong positions.
      </p>
      <p>
       And I even don’t no what exactly I did, actually I wanted to change the clear color of viewport 2 to transparent, but I didn’t knew how.
      </p>
      <p>
       renderer-&gt;SetViewport(1, orthoViewport);
       <br/>
       RenderPath* orthoPath = orthoViewport-&gt;GetRenderPath();
       <br/>
       orthoPath-&gt;SetCommand(0, RenderPathCommand()); &lt;---- but this worked
       <img alt=":smiling_imp:" class="emoji" src="../../../images/13f3065da3da99b36f3035fa3bd7285197ff0e6d754b099726b94f471ed37c51.png" title=":smiling_imp:"/>
      </p>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>